(function(c,a,b){function d(e){var g=this;var i="yy-tips-container";var h={wrapper:".tips-wrapper",position:"left",tipWidth:0,tipHeight:0,tipClass:"",remote:true,delay:400,disappear:400,contentCall:null,events:"hover",callback:function(){}};g.options=c.extend({},h,e);e=h=null;g.wrapper=c(g.options.wrapper);var f=d.prototype;if(typeof g.init!=="function"){f.init=function(){var k=this;var j=c("#YYTipsBlock");if(!j.length){c("body").append('<div id="YYTipsBlock"></div>')}k.YYTipsBlock=c("#YYTipsBlock");k.bindEvents()};f.getTips=function(){var m=this;var j=m.realTarget;if(m.options.remote){var k=j.attr("rel")}var l=Math.floor(Math.random()*10000000);j.attr("rnum",l);if(k){m.addWrap(l);b.ajaxApi(k,function(q,p){if(p==="success"&&q){m.addContent(q,l)}},"GET","html")}else{var o=m.options.contentCall;var n=typeof o==="function"?o(j):"";m.addContent(n,l)}m.options.callback()};f.addWrap=function(l){var m=this,j=m.YYTipsBlock,k=m.options.tipClass,n='<aside class="'+i+" "+k+'" id="'+l+'" style="display:none;"><div class="yy-tips-content"></div><div class="yy-tips-arrow"><span class="xsj"></span><span class="xsj2"></div></span></aside>';j.append(n)};f.addContent=function(o,m){var n=this;var l=c("#"+m);if(!l.length){var j=n.YYTipsBlock,k=n.options.tipClass,p='<aside class="'+i+" "+k+'" id="'+m+'" style=""><div class="yy-tips-content">'+o+'</div><div class="yy-tips-arrow"><span class="xsj"></span><span class="xsj2"></div></span></aside>';l=c(p);l.appendTo(j)}else{l.find(".yy-tips-content").html(o)}n.setTipsPosition(l);l.siblings().hide()};f.setTipsPosition=function(q){var E=this,o,v,A,t,k="yy-arrow-left";var u=20,r=7;var y=E.realTarget,H=y.outerWidth(),C=y.outerHeight(),D=y.offset(),n=D.left,j=D.top,m=E.options,G=m.position,x=m.tipWidth,w=m.tipHeight;var z=x?x:q.outerWidth(),s=w?w:q.outerHeight();var B=c(".yy-tips-arrow",q),l=B.width(),F=B.height(),p=B.position(),A=p.left,t=p.top;switch(G){case"top":case"bottom":if(G==="bottom"||j<(s+u)){G="bottom";v=j+C+r;t=-F;k="yy-arrow-bottom"}else{v=j-s-r;t=s;k="yy-arrow-top"}o=n;A=(H-l)/2;break;case"left":case"right":if(G==="right"||n<(z+u)){G="right";o=n+H+r;A=-l;k="yy-arrow-right"}else{o=n-z-r;A=z;k="yy-arrow-left"}v=j;t=(C-F)/2;break}B.css({position:"absolute",top:t,left:A}).addClass(k);q.css({display:"block",position:"absolute",top:v,left:o})};f.render=function(o){var m=this;var k=m.realTarget,j=m.YYTipsBlock,l=k.attr("rnum"),n=c("#"+l,j);!!n.length?m.showTips(n):m.getTips()};f.showTips=function(k){var j=this;j.setTipsPosition(k);k.show().siblings().hide()};f.close=function(j){var k;j&&(k=j.attr("rnum"));var l=c("#"+k);l.hide()};f.tips=function(){var j=this;j.render()};f.bindEvents=function(){var n=this;var m=n.options,l=0,k=0;var o=n.wrapper,j=n.YYTipsBlock;c.each(m.events.split(","),function(p,q){if(q==="hover"){o.live({mouseover:function(t){var s=c(t.target),r=s.closest('[tips="1"]');if(!!r.length){if(n.realTarget&&n.realTarget[0]===r[0]){clearTimeout(k)}else{n.realTarget=r}l=setTimeout(function(){n.tips()},m.delay)}},mouseout:function(u){var s=c(u.target),r=s.closest('[tips="1"]'),t=c(u.relatedTarget);if(!t.length||t.closest('[tips="1"]').get(0)!==r.get(0)){clearTimeout(l);k=setTimeout(function(){n.close(n.realTarget)},m.disappear)}}});j.on({mouseover:function(r){clearTimeout(k)},mouseout:function(u){var s=c(u.target),r=s.closest("."+i),t=c(u.relatedTarget);if(!t.length||t.closest("."+i).get(0)!==r.get(0)){k=setTimeout(function(){r.hide()},m.disappear)}}});c(document).click(function(t){var s=c(t.target),r=s.closest(".yy-tips-container");if(!r.length){j.children().hide()}})}if(q==="click"){o.live({click:function(t){var s=c(t.target),r=s.closest('[tips="1"]');n.realTarget=r;if(!!r.length){n.tips()}return false}})}})}}}a.Tips=d}(jQuery,YY,YY.util));