var shareList=function(n){var i=this,c=false,l="yy-share-arrow-left",a="yy-share-arrow-right",f="yy-share-arrow",k="yy-share-item",h="yy-share-containter",j=0,g=1,m=[];function e(s){var r=[];var o=YY.util.url("/images/default_avatar_small.gif"),t=YY.util.url("/space/cons/index/id/"),u=YY.util.url("/api/ajax/partnerinfo/pid/");if(s.length>0){for(var q=0,p=s.length;q<p;q++){r.push('<li rel="'+u+s[q].id+'" class="'+k+'">');r.push('<a href="'+t+s[q].id+'" title="'+s[q].name+'">');r.push('<img width="30" src="'+YY.util.url(s[q].avatar)+'" rel="'+o+'" /><br/>'+s[q].name+"</a></li>")}}return r.join("")}i.tipRender=function(r){var o=YY.util.url(r.attr("rel")),s=i.getPage(),q=" hidden";if(c){return}c=true;var p=[];p.push('<div class="fl leftPage hidden"><a class="'+l+" "+f+'" href="javascript:;">&lt;&lt;</a></div><div class="fl dataDet"><ul>');YY.util.ajax({url:o,async:false,success:function(v,t){var u=v.data.followers;j=v.data.total;if(u.length>0){p.push(e(u));i.setPage(s);u.length<j?q="":""}c=false},type:"GET",dataType:"json",data:{pageNum:s,pageSize:i.options.pageSize}});p.push('</ul></div><div class="fl leftPage'+q+'"><a class="'+a+" "+f+'" href="javascript:;">&gt;&gt;</a></div>');return p.join("")};i.defaultRender=function(q){var r=$(i.options.selector),o=YY.util.url(r.attr("rel")),s=i.getPage(q),u=$("#"+r.attr("rnum")),p=" hidden";if($.inArray(s,m)>=0){i.setPage(s);i.formatItem(u);return}if(c){return}c=true;var t=u.find("."+k).length;YY.util.ajax({url:o,success:function(y,w){var x=y.data.followers,v="";j=y.data.total;t+=x.length;if(x.length>0){v=e(x);i.setPage(s);t<j?p="":""}$(v).appendTo(u.find("."+k).parent());i.formatItem(u);c=false},type:"GET",dataType:"json",data:{pageNum:s,pageSize:i.options.pageSize}})};var d={selector:".yy-doc-share",pageSize:6,tipPosition:"top",tipClass:"z5",tipRender:i.tipRender,render:i.defaultRender};$.extend(n,d);i.options=n;i.setPage=function(o){g=o;if($.inArray(g,m)==-1){m.push(g)}};i.getPage=function(o){if(typeof(o)=="undefined"){return g}if(o.hasClass(l)&&g>1){return g-1}if(o.hasClass(a)){return g+1}return g};i.formatItem=function(q){var p=i.getPage()*i.options.pageSize;p>j?p=j:"";var o=p-i.options.pageSize;q.find("."+k).each(function(r){if(r<o||r>=p){$(this).addClass("hidden")}else{$(this).removeClass("hidden")}});$prefix=q.find("."+l).parent();$next=q.find("."+a).parent();if(g>1){$prefix.removeClass("hidden")}else{$prefix.addClass("hidden")}if(g<Math.ceil(j*1/i.options.pageSize)){$next.removeClass("hidden")}else{$next.addClass("hidden")}};i.bindArrowEvents=function(){var o=$(i.options.selector).attr("rnum");$("#"+o).find("."+f).live("click",function(){$arrow=$(this);i.defaultRender($arrow)})};function b(){var o=new YY.Tips({remote:false,wrapper:i.options.selector,tipHeight:82,tipClass:i.options.tipClass,callback:i.bindArrowEvents,contentCall:i.options.tipRender,position:i.options.tipPosition});o.init()}i.init=function(){b()}};