var YY=YY||{};YY.util={debug:YY_DEBUG_MODE,jsDir:YY_JS_DIR,trace:function(a){if(window.console&&window.console.log){console.log(a)}},url:function(b){if(typeof b!=="string"){return}if(typeof url==="function"){return url(b)}var a="http://"+window.location.host;return(b.lastIndexOf(".")!==-1)?a+url:a+"/cjt"+url},pageUrl:function(b,c){var a=this.url(YY.pageUrl[b]);a=a.format(c);return a},ajaxApi:function(b,c){if(typeof c!=="function"){return false}var d=this,a=arguments.length,g=a>2?arguments[2]:"",h=a>3?arguments[3]:"",e=a>4?arguments[4]:{};e.ajaxsubmit=1;var f=$.ajax({async:true,type:(g?g:"post"),url:b,cache:true,data:e,dataType:(h?h:"html"),success:function(j,i){c(j,i);d.imgLoadError()},error:function(i,k,j){}});return f},ajax:function(g){var c=g.target||null,a=g.url||"",f=g.data||{},j=g.success||function(){},h=g.error||function(){},i=j,e=h;if(c){var b=$("#yy_cover_button");if(c[0].tagName=="INPUT"&&c.attr("type")=="text"){c.css("color","#d2d2d2");i=function(l,k){j(l,k);c.css("color","#333333")};e=function(k,m,l){h(k,m,l);c.css("color","#333333")}}if(c[0].tagName=="INPUT"&&c.attr("type")=="button"||c.tagName=="BUTTON"||c.attr("type")=="submit"||c.attr("type")=="SUBMIT"){var d=c.offset();b.show();b.css({top:d.top,left:d.left});i=function(l,k){j(l,k);b.hide()};e=function(k,m,l){h(k,m,l);b.hide()}}}return $.ajax({type:g.type||"GET",async:g.async===false?false:(g.async||true),url:a,cache:g.cache||true,data:f,dataType:g.dataType||"json",success:i,error:e})},loadScript:function(a,b){typeof loadScript==="function"&&loadScript(a,b);return},initUploaded_flag:false,initUpload:function(c){var b=this,a=b.debug?["plugin/swfupload/swfupload.js","plugin/swfupload/swfupload.queue.js","lib/upload/yy.upload.handlers.js"]:["upload.js"];if(b.initUploaded_flag){typeof c==="function"&&c();return}b.loadScript(a,{fn:function(){b.initUploaded_flag=true;typeof c==="function"&&c()}})},imgLoadError:function(){$("img").one("error",function(){var a=$(this);setTimeout(function(){var b=a.attr("errordata"),c=a.attr("rel");if(c||b){c&&a.attr("src",c);b&&a.parent().addClass(b).html("")}},10)})},isIE:function(){return !-[1,]},isIE6:function(){var a=this;return !!(a.isIE()&&!window.XMLHttpRequest)},formatCookieField:function(a){return"YY"+a},addCookie:function(e,a,d){e=this.formatCookieField(e);var f=e+"="+escape(a);if(d>0){var c=new Date();var b=d*3600*1000;c.setTime(c.getTime()+b);f+="; expires="+c.toGMTString()}document.cookie=f},getCookie:function(c){c=this.formatCookieField(c);var d=document.cookie.split("; ");for(var b=0;b<d.length;b++){var a=d[b].split("=");if(a[0]==c){return unescape(a[1])}}},delCookie:function(b){b=this.formatCookieField(b);var a=new Date();a.setTime(a.getTime()-10000);document.cookie=b+"=a; expires="+a.toGMTString()},strWrap:function(a){a=a.replace(/\r\n/ig,"<br/>");a=a.replace(/\r/ig,"<br/>");a=a.replace(/ /ig,"&nbsp;");return a},keyEnable:function(a){if($.browser.mozilla&&(a==173||a==61)){return true}if(!((a>=65&&a<=90)||(a>=48&&a<=57)||(a>=186&&a<=192)||(a>=219&&a<=222)||(a>=96&&a<=109)||a==32)&&a!=8){return false}else{return true}},selected:function savePos(e){var a=0,f=0;if(typeof(e.selectionStart)=="number"){f=e.selectionStart;a=e.selectionEnd}else{if(document.selection){var b=document.selection.createRange();if(b.parentElement().id==e.id){var c=document.body.createTextRange();c.moveToElementText(e);for(f=0;c.compareEndPoints("StartToStart",b)<0;f++){c.moveStart("character",1)}for(var d=0;d<=f;d++){if(e.value.charAt(d)=="/n"){f++}}var c=document.body.createTextRange();c.moveToElementText(e);for(a=0;c.compareEndPoints("StartToEnd",b)<0;a++){c.moveStart("character",1)}for(var d=0;d<=a;d++){if(e.value.charAt(d)=="/n"){a++}}}}}return{start:f,end:a}},setSelected:function(b,d,c){if(b.setSelectionRange){b.setSelectionRange(d,c)}else{if(b.createTextRange){var a=b.createTextRange();a.collapse(true);a.moveStart("character",d);a.moveEnd("character",c-d-1);a.select()}}b.focus()},textLength:function(a){if($.type(a)!=="string"){return}return Math.floor(a.len())},removeHTMLTag:function(a){a=a.replace(/<\/?[^>]*>/g,"");a=a.replace(/[ | ]*\n/g,"");a=a.replace(/&nbsp;/ig,"");return a},extend:function(){var a=Object.prototype.constructor;return function(b,f){var c=f.prototype;var e=b.prototype;var d=function(){};d.prototype=c;e=b.prototype=new d();b.superclass=c;e.constructor=b;if(c.constructor==a){c.constructor=f}b.prototype.toString=f.prototype.toString;return b}}()};String.prototype.format=function(d){if(d!=null){var a=this;for(var b in d){var c=new RegExp("\\<\\%\\="+b+"\\%\\>","gi");a=a.replace(c,d[b]?(d[b]=="null"?"":d[b]):"")}}return a};String.prototype.len=function(){return this.replace(/[^x00-xff]/g,"aa").length};String.prototype.remove=function(d,c){var a=this.slice(0,d);var b=this.slice(d+c);return a+b};String.prototype.trim=function(){return this.replace(/(^ *)( *$)/g,"")};Date.prototype.format=function(f){var h=function(i){if(i.toString().length>1){return i.toString()}else{return"0"+i.toString()}};var d=this.getFullYear(),e=this.getMonth()+1,b=this.getDate(),a=this.getHours(),g=this.getMinutes(),c=this.getSeconds();f=f||"yyyy-MM-dd hh:mm:ss";return f.replace(/yyyy/,d).replace(/yy/,d.toString().substr(2,2)).replace(/MM/,h(e)).replace(/M/,e).replace(/dd/,h(b)).replace(/d/,b).replace(/hh/,h(a)).replace(/h/,a).replace(/mm/,h(g)).replace(/m/,g).replace(/ss/,h(c)).replace(/s/,c)};YY.pageUrl={topicPage:"/topic/topic/convs/topic_id/<%=topicId%>"};YY.range={rangeInstance:function(){try{var b=window.getSelection?window.getSelection():document.selection;var a=b.createRange?b.createRange():b.getRangeAt(0);return a}catch(c){}},insertHtmlAtCaret:function(b,a){var f,a;if(window.getSelection){f=window.getSelection();if(f.getRangeAt&&f.rangeCount){a=a;a.deleteContents();var c=document.createElement("div");c.innerHTML=b;var g=document.createDocumentFragment(),e,d;while((e=c.firstChild)){d=g.appendChild(e)}a.insertNode(g);if(d){a=a.cloneRange();a.setStartAfter(d);a.collapse(true);f.removeAllRanges();f.addRange(a)}}}else{if(document.selection&&document.selection.type!="Control"){document.selection.createRange().pasteHTML(b)}}},insertimg:function(i,b,a){document.getElementById(b).focus();var f=window.getSelection?window.getSelection():document.selection;var c=f.createRange?f.createRange():f.getRangeAt(0);if(!window.getSelection){c.pasteHTML(i);c.collapse(false);c.select()}else{YY.util.trace(c.startContainer);YY.util.trace(c.startOffset);c.collapse(false);var h=c.createContextualFragment(i);var d=h.lastChild;while(d&&d.nodeName.toLowerCase()=="br"&&d.previousSibling&&d.previousSibling.nodeName.toLowerCase()=="br"){var g=d;d=d.previousSibling;h.removeChild(g)}c.insertNode(h);if(d){c.setEndAfter(d);c.setStartAfter(d)}f.removeAllRanges();f.addRange(c)}return c.startContainer},getSelection:function(){if(window.getSelection){return window.getSelection()}return document.selection}};YY.log=function(c){var a=arguments.length;if(window.console&&window.console.log){for(var b=0;b<a;b++){console.log(arguments[b])}}};$.fn.extend({pressEnter:function(a){this.each(function(b,c){$(c).bind("keyup",function(d){var f=d.keyCode,e=false;if(f==13||f==32){var g=$.proxy(a,this);g(d)}return e})})},pressEsc:function(a){this.each(function(b,c){$(c).bind("keyup",function(d){var f=d.keyCode,e=false;if(f==27){var g=$.proxy(a,this);g(d)}return e})})},dbclick:function(a){var b=this;this.each(function(e,f){var c=false;var d=0;$(f).bind("click",function(h){var g=false;if(!c){c=true;setTimeout(function(){c=false},200)}else{var i=$.proxy(a,this);i(h)}return g})})},ctrlEnter:function(a){var b=this;var c=false;$(this).keydown(function(d){var e=d.keyCode;if(e==17){c=true}if(e==13&&c){$.proxy(a,b)(d)}});$(this).keyup(function(d){var e=d.keyCode;if(e==17){c=false}})}});
(function(a){if(a.fn.noSelect==undefined){a.fn.noSelect=function(c){var b=(c==null)?true:c;if(b){return this.each(function(){if(a.browser.msie||a.browser.safari){a(this).bind("selectstart",function(){return false})}else{if(a.browser.mozilla){a(this).css("MozUserSelect","none");a("body").trigger("focus")}else{if(a.browser.opera){a(this).bind("mousedown",function(){return false})}else{a(this).attr("unselectable","on")}}}})}else{return this.each(function(){if(a.browser.msie||a.browser.safari){a(this).unbind("selectstart")}else{if(a.browser.mozilla){a(this).css("MozUserSelect","inherit")}else{if(a.browser.opera){a(this).unbind("mousedown")}else{a(this).removeAttr("unselectable","on")}}}})}}}})(jQuery);
(function($){var cache={};$.widget("ui.yyautocomplete",$.ui.autocomplete,{options:{inputName:"",appendTo:"body",autoFocus:false,cacheKey:"default",delay:300,minLength:0,maxwidth:250,selAppendTo:"",selTag:"<li></li>",selCss:"clearfix rcAddmenListli",group:true,ajaxUrl:yyBaseurl+"/data/search.data.php",position:{my:"left top",at:"left bottom",collision:"none"},focus:function(event,ui){return false},source:function(request,response){var self=this;function split(val){return val.split(/,\s*/)}function extractLast(term){return split(term).pop()}var term=request.term;if(typeof(cache[self.options.cacheKey])=="undefined"){cache[self.options.cacheKey]={}}if(term in cache[self.options.cacheKey]){response(cache[self.options.cacheKey][term]);return}lastXhr=$.getJSON(self.options.ajaxUrl,request,function(data,status,xhr){cache[self.options.cacheKey][term]=data;response(data)})}},_create:function(){var self=this,doc=this.element[0].ownerDocument,suppressKeyPress;this.element.addClass("ui-autocomplete-input").attr("autocomplete","off").attr({role:"textbox","aria-autocomplete":"list","aria-haspopup":"true"}).bind("keydown.autocomplete",function(event){if(self.options.disabled||self.element.propAttr("readOnly")){return}suppressKeyPress=false;var keyCode=$.ui.keyCode;switch(event.keyCode){case keyCode.PAGE_UP:self._move("previousPage",event);break;case keyCode.PAGE_DOWN:self._move("nextPage",event);break;case keyCode.UP:self._move("previous",event);event.preventDefault();break;case keyCode.DOWN:self._move("next",event);event.preventDefault();break;case keyCode.ENTER:case keyCode.NUMPAD_ENTER:if(self.menu.active){suppressKeyPress=true;event.preventDefault()}case keyCode.TAB:if(!self.menu.active){return}self.menu.select(event);break;case keyCode.ESCAPE:self.element.val(self.term);self.close(event);break;default:clearTimeout(self.searching);self.searching=setTimeout(function(){if(self.term!=self.element.val()){self.selectedItem=null;self.search(null,event)}},self.options.delay);break}}).bind("input.autocomplete",function(){$(this).trigger("keydown.autocomplete")}).bind("keypress.autocomplete",function(event){if(suppressKeyPress){suppressKeyPress=false;event.preventDefault()}}).bind("focus.autocomplete",function(){if(self.options.disabled){return}self.selectedItem=null;self.previous=self.element.val()}).bind("blur.autocomplete",function(event){if(self.options.disabled){return}clearTimeout(self.searching);self.closing=setTimeout(function(){self.close(event);self._change(event)},150)});this._initSource();this.response=function(){return self._response.apply(self,arguments)};this.menu=$("<ul></ul>").addClass("ui-autocomplete").appendTo($(this.options.appendTo||"body",doc)[0]).mousedown(function(event){var menuElement=self.menu.element[0];if(!$(event.target).closest(".ui-menu-item").length){setTimeout(function(){$(document).one("mousedown",function(event){if(event.target!==self.element[0]&&event.target!==menuElement&&!$.ui.contains(menuElement,event.target)){self.close()}})},1)}setTimeout(function(){clearTimeout(self.closing)},13)}).menu({focus:function(event,ui){var item=ui.item.data("item.autocomplete");if(false!==self._trigger("focus",event,{item:item})){if(/^key/.test(event.originalEvent.type)){self.element.val("")}}},selected:function(event,ui){var item=ui.item.data("item.autocomplete"),previous=self.previous;if(self.element[0]!==doc.activeElement){self.element.focus();self.previous=previous;setTimeout(function(){self.previous=previous;self.selectedItem=item},1)}if(false!==self._trigger("select",event,{item:item})){self.element.val("")}self.term=self.element.val();$(self.options.selTag).attr("id","yyauto_li_"+item.value).addClass(self.options.selCss).append("<span>"+item.label+'</span><input type="hidden" name="'+(self.options.inputName?self.options.inputName:$(self.options.appendTo).attr("id"))+'_value[]" value="'+item.value+'" />').append($('<a href="javascript:;" class="close"></a>').bind("click",function(){$(this).parent().remove()})).insertBefore($(self.options.selAppendTo+" > li:last"));self.close(event);self.selectedItem=item},blur:function(event,ui){if(self.menu.element.is(":visible")&&(self.element.val()!==self.term)){self.element.val(self.term)}}}).zIndex(this.element.zIndex()+1000).css({top:0,left:0}).hide().data("menu");if($.fn.bgiframe){this.menu.element.bgiframe()}self.beforeunloadHandler=function(){self.element.removeAttr("autocomplete")};$(window).bind("beforeunload",self.beforeunloadHandler);if(typeof(self.options.defaultValue)!="undefined"){var item;for(var i=0;i<self.options.defaultValue.length;i++){item=self.options.defaultValue[i];$(self.options.selTag).attr("id","yyauto_li_"+item.value).addClass(self.options.selCss).append("<span>"+item.label+'</span><input type="hidden" name="'+$(self.options.appendTo).attr("id")+'_value[]" value="'+item.value+'" />').append($('<a href="javascript:;" class="close"></a>').bind("click",function(){$(this).parent().remove()})).prependTo($(self.options.selAppendTo))}}},_resizeMenu:function(){var self=this;var ul=this.menu.element;var width=Math.max(ul.width("").outerWidth()+1,this.element.outerWidth());ul.outerWidth(width<=self.options.maxwidth?width:self.options.maxwidth)},_suggest:function(items){var ul=this.menu.element.empty().zIndex(this.element.zIndex()+1);var valueObj=$(this.options.selAppendTo+" input"),count=0;$.each(items,function(index,item){for(var j=0;j<valueObj.length;j++){var r=valueObj[j];if(item.value==r.value){count--}}});if(count<0&&Math.abs(count)==items.length){ul.hide();return false}this._renderMenu(ul,items);this.menu.deactivate();this.menu.refresh();ul.show();this._resizeMenu();ul.position($.extend({of:this.element},this.options.position));if(this.options.autoFocus){this.menu.next(new $.Event("mouseover"))}},_renderMenu:function(ul,items){var self=this,currentCategory="",isfrist=self.options.group,mapping={10:"ico01",25:"ico08",35:"ico09",40:"ico02",45:"ico07",50:"ico03",60:"ico06",65:"ico05"};ul.removeClass("ui-autocomplete ui-menu ui-widget ui-widget-content ui-corner-all");ul.addClass("tkBox relative c6").zIndex(100);$.each(items,function(index,item){if(item.category!=currentCategory&&self.options.group){isfrist=true;ul.append("<span class='"+mapping[item.category]+" tkIcoBox '></span>");currentCategory=item.category}self._renderItem(ul,item,item.category,isfrist,items.length);isfrist=false})},_renderItem:function(ul,item,type,isfirst,count){var valueObj=$(this.options.selAppendTo+" input");for(var j=0;j<valueObj.length;j++){var r=valueObj[j];if(item.value==r.value){count--;if(count==0){ul.hide()}return}}if(type=="10"){return $("<li></li>").addClass("tkCont02"+(isfirst?" tline":"")).data("item.autocomplete",item).append($("<a class='clearfix tkIn ui_autocomplate_box'><img src='"+item.avatar+"'/><span class='block'>"+item.label+"</span><span class='block'>"+item.desc+"</span><div class='block lxuser_mailbj fl hidden'>"+item.other3+"</div></a>")).appendTo(ul)}return $("<li></li>").addClass("tkCont02 h20"+(isfirst?" tline":"")).data("item.autocomplete",item).append($('<a class="clearfix tkIn">'+item.label+"</a>")).appendTo(ul)}});isSearch_window=false;position_window=0;old_value_window="";selected_window={};$.widget("ui.yysearch",$.ui.yyautocomplete,{state:false,isSearch:false,oldStr:"",oldlength:"",search:function(value,event){value=value!=null?value:this.element.val();old_value_window=value;var self=this,tag_arr=["@","#"],tag=getTag(value,tag_arr),state=false,length=value.length;var char1=value.substr(value.length-1,value.length);function getTag(str,tag_arr){var last_pos=[];$.each(tag_arr,function(i,v){last_pos[i]=str.lastIndexOf(v)});var max_pos=eval("Math.max("+last_pos.toString()+")"),tag_id=$.inArray(max_pos,last_pos);return tag_arr[tag_id]}if(char1=="@"||char1=="#"){if(self.oldStr=="@"||self.oldStr=="#"||!isSearch_window){position_window=value.length-1}isSearch_window=true}if(char1==" "||value==""){isSearch_window=false}var lenStr=value.length,firstChar=value.charAt(0),lastChar=value.charAt(lenStr-1),rposSpace=value.lastIndexOf(" "),rposSpaceChar=value.charAt(rposSpace+1),strArray=value.split(" "),rposAt=strArray[strArray.length-1].indexOf(tag),searchStr=$.trim(value.substring(position_window)),hasSpace=searchStr.lastIndexOf(" ");selected_window=YY.util.selected(this.element[0]);if(self.oldlength>lenStr){self.oldStr=value.substring(lenStr-1,lenStr)}else{self.oldStr=char1}self.oldlength=lenStr;if(typeof(this.term)!="undefined"){if(this.term.indexOf(searchStr)>=0&&(typeof(cache[self.options.cacheKey][this.term])!="undefined"&&$.isEmptyObject(cache[self.options.cacheKey][this.term]))){isSearch_window=false}}if(!isSearch_window||hasSpace>-1){this.close(event);return}if(rposAt!==-1){value=searchStr}this.term=this.element.val();if(value.length<this.options.minLength){return this.close(event)}clearTimeout(this.closing);if(this._trigger("search",event)===false){return}return this._search(encodeURIComponent(value))}})})(jQuery);
(function(a){a.extend(a.fn,{validate:function(b){if(!this.length){b&&b.debug&&window.console&&console.warn("nothing selected, can't validate, returning nothing");return}var c=a.data(this[0],"validator");if(c){return c}this.attr("novalidate","novalidate");c=new a.validator(b,this[0]);a.data(this[0],"validator",c);if(c.settings.onsubmit){var d=this.find("input, button");d.filter(".cancel").click(function(){c.cancelSubmit=true});if(c.settings.submitHandler){d.filter(":submit").click(function(){c.submitButton=this})}this.submit(function(e){if(c.settings.debug){e.preventDefault()}function f(){if(c.settings.submitHandler){if(c.submitButton){var g=a("<input type='hidden'/>").attr("name",c.submitButton.name).val(c.submitButton.value).appendTo(c.currentForm)}c.settings.submitHandler.call(c,c.currentForm);if(c.submitButton){g.remove()}return false}return true}if(c.cancelSubmit){c.cancelSubmit=false;return f()}if(c.form()){if(c.pendingRequest){c.formSubmitted=true;return false}return f()}else{c.focusInvalid();return false}})}return c},valid:function(){if(a(this[0]).is("form")){return this.validate().form()}else{var c=true;var b=a(this[0].form).validate();this.each(function(){c&=b.element(this)});return c}},removeAttrs:function(d){var b={},c=this;a.each(d.split(/\s/),function(e,f){b[f]=c.attr(f);c.removeAttr(f)});return b},rules:function(e,b){var g=this[0];if(e){var d=a.data(g.form,"validator").settings;var i=d.rules;var j=a.validator.staticRules(g);switch(e){case"add":a.extend(j,a.validator.normalizeRule(b));i[g.name]=j;if(b.messages){d.messages[g.name]=a.extend(d.messages[g.name],b.messages)}break;case"remove":if(!b){delete i[g.name];return j}var h={};a.each(b.split(/\s/),function(k,l){h[l]=j[l];delete j[l]});return h}}var f=a.validator.normalizeRules(a.extend({},a.validator.metadataRules(g),a.validator.classRules(g),a.validator.attributeRules(g),a.validator.staticRules(g)),g);if(f.required){var c=f.required;delete f.required;f=a.extend({required:c},f)}return f}});a.extend(a.expr[":"],{blank:function(b){return !a.trim(""+b.value)},filled:function(b){return !!a.trim(""+b.value)},unchecked:function(b){return !b.checked}});a.validator=function(b,c){this.settings=a.extend(true,{},a.validator.defaults,b);this.currentForm=c;this.init()};a.validator.format=function(b,c){if(arguments.length==1){return function(){var d=a.makeArray(arguments);d.unshift(b);return a.validator.format.apply(this,d)}}if(arguments.length>2&&c.constructor!=Array){c=a.makeArray(arguments).slice(1)}if(c.constructor!=Array){c=[c]}a.each(c,function(d,e){b=b.replace(new RegExp("\\{"+d+"\\}","g"),e)});return b};a.extend(a.validator,{defaults:{messages:{},groups:{},rules:{},errorClass:"error",validClass:"valid",errorElement:"label",focusInvalid:true,errorContainer:a([]),errorLabelContainer:a([]),onsubmit:true,ignore:":hidden",ignoreTitle:false,onfocusin:function(b,c){this.lastActive=b;if(this.settings.focusCleanup&&!this.blockFocusCleanup){this.settings.unhighlight&&this.settings.unhighlight.call(this,b,this.settings.errorClass,this.settings.validClass);this.addWrapper(this.errorsFor(b)).hide()}},onfocusout:function(b,c){if(!this.checkable(b)&&(b.name in this.submitted||!this.optional(b))){this.element(b)}},onkeyup:function(b,c){if(b.name in this.submitted||b==this.lastElement){this.element(b)}},onclick:function(b,c){if(b.name in this.submitted){this.element(b)}else{if(b.parentNode.name in this.submitted){this.element(b.parentNode)}}},highlight:function(d,b,c){if(d.type==="radio"){this.findByName(d.name).addClass(b).removeClass(c)}else{a(d).addClass(b).removeClass(c)}},unhighlight:function(d,b,c){if(d.type==="radio"){this.findByName(d.name).removeClass(b).addClass(c)}else{a(d).removeClass(b).addClass(c)}}},setDefaults:function(b){a.extend(a.validator.defaults,b)},messages:{required:"This field is required.",remote:"Please fix this field.",email:"Please enter a valid email address.",url:"Please enter a valid URL.",date:"Please enter a valid date.",dateISO:"Please enter a valid date (ISO).",number:"Please enter a valid number.",digits:"Please enter only digits.",creditcard:"Please enter a valid credit card number.",equalTo:"Please enter the same value again.",accept:"Please enter a value with a valid extension.",maxlength:a.validator.format("Please enter no more than {0} characters."),minlength:a.validator.format("Please enter at least {0} characters."),rangelength:a.validator.format("Please enter a value between {0} and {1} characters long."),range:a.validator.format("Please enter a value between {0} and {1}."),max:a.validator.format("Please enter a value less than or equal to {0}."),min:a.validator.format("Please enter a value greater than or equal to {0}.")},autoCreateRanges:false,prototype:{init:function(){this.labelContainer=a(this.settings.errorLabelContainer);this.errorContext=this.labelContainer.length&&this.labelContainer||a(this.currentForm);this.containers=a(this.settings.errorContainer).add(this.settings.errorLabelContainer);this.submitted={};this.valueCache={};this.pendingRequest=0;this.pending={};this.invalid={};this.reset();var b=(this.groups={});a.each(this.settings.groups,function(e,f){a.each(f.split(/\s/),function(h,g){b[g]=e})});var d=this.settings.rules;a.each(d,function(e,f){d[e]=a.validator.normalizeRule(f)});function c(g){var f=a.data(this[0].form,"validator"),e="on"+g.type.replace(/^validate/,"");f.settings[e]&&f.settings[e].call(f,this[0],g)}a(this.currentForm).validateDelegate("[type='text'], [type='password'], [type='file'], select, textarea, [type='number'], [type='search'] ,[type='tel'], [type='url'], [type='email'], [type='datetime'], [type='date'], [type='month'], [type='week'], [type='time'], [type='datetime-local'], [type='range'], [type='color'] ","focusin focusout keyup",c).validateDelegate("[type='radio'], [type='checkbox'], select, option","click",c);if(this.settings.invalidHandler){a(this.currentForm).bind("invalid-form.validate",this.settings.invalidHandler)}},form:function(){this.checkForm();a.extend(this.submitted,this.errorMap);this.invalid=a.extend({},this.errorMap);if(!this.valid()){a(this.currentForm).triggerHandler("invalid-form",[this])}this.showErrors();return this.valid()},checkForm:function(){this.prepareForm();for(var b=0,c=(this.currentElements=this.elements());c[b];b++){this.check(c[b])}return this.valid()},element:function(c){c=this.validationTargetFor(this.clean(c));this.lastElement=c;this.prepareElement(c);this.currentElements=a(c);var b=this.check(c);if(b){delete this.invalid[c.name]}else{this.invalid[c.name]=true}if(!this.numberOfInvalids()){this.toHide=this.toHide.add(this.containers)}this.showErrors();return b},showErrors:function(c){if(c){a.extend(this.errorMap,c);this.errorList=[];for(var b in c){this.errorList.push({message:c[b],element:this.findByName(b)[0]})}this.successList=a.grep(this.successList,function(d){return !(d.name in c)})}this.settings.showErrors?this.settings.showErrors.call(this,this.errorMap,this.errorList):this.defaultShowErrors()},resetForm:function(){if(a.fn.resetForm){a(this.currentForm).resetForm()}this.submitted={};this.lastElement=null;this.prepareForm();this.hideErrors();this.elements().removeClass(this.settings.errorClass)},numberOfInvalids:function(){return this.objectLength(this.invalid)},objectLength:function(d){var c=0;for(var b in d){c++}return c},hideErrors:function(){this.addWrapper(this.toHide).hide()},valid:function(){return this.size()==0},size:function(){return this.errorList.length},focusInvalid:function(){if(this.settings.focusInvalid){try{a(this.findLastActive()||this.errorList.length&&this.errorList[0].element||[]).filter(":visible").focus().trigger("focusin")}catch(b){}}},findLastActive:function(){var b=this.lastActive;return b&&a.grep(this.errorList,function(c){return c.element.name==b.name}).length==1&&b},elements:function(){var c=this,b={};return a(this.currentForm).find("input, select, textarea").not(":submit, :reset, :image, [disabled]").not(this.settings.ignore).filter(function(){!this.name&&c.settings.debug&&window.console&&console.error("%o has no name assigned",this);if(this.name in b||!c.objectLength(a(this).rules())){return false}b[this.name]=true;return true})},clean:function(b){return a(b)[0]},errors:function(){return a(this.settings.errorElement+"."+this.settings.errorClass,this.errorContext)},reset:function(){this.successList=[];this.errorList=[];this.errorMap={};this.toShow=a([]);this.toHide=a([]);this.currentElements=a([])},prepareForm:function(){this.reset();this.toHide=this.errors().add(this.containers)},prepareElement:function(b){this.reset();this.toHide=this.errorsFor(b)},check:function(c){c=this.validationTargetFor(this.clean(c));var h=a(c).rules();var d=false;for(var i in h){var g={method:i,parameters:h[i]};try{var b=a.validator.methods[i].call(this,c.value.replace(/\r/g,""),c,g.parameters);if(b=="dependency-mismatch"){d=true;continue}d=false;if(b=="pending"){this.toHide=this.toHide.not(this.errorsFor(c));return}if(!b){this.formatAndAdd(c,g);return false}}catch(f){this.settings.debug&&window.console&&console.log("exception occured when checking element "+c.id+", check the '"+g.method+"' method",f);throw f}}if(d){return}if(this.objectLength(h)){this.successList.push(c)}return true},customMetaMessage:function(b,d){if(!a.metadata){return}var c=this.settings.meta?a(b).metadata()[this.settings.meta]:a(b).metadata();return c&&c.messages&&c.messages[d]},customMessage:function(c,d){var b=this.settings.messages[c];return b&&(b.constructor==String?b:b[d])},findDefined:function(){for(var b=0;b<arguments.length;b++){if(arguments[b]!==undefined){return arguments[b]}}return undefined},defaultMessage:function(b,c){return this.findDefined(this.customMessage(b.name,c),this.customMetaMessage(b,c),!this.settings.ignoreTitle&&b.title||undefined,a.validator.messages[c],"<strong>Warning: No message defined for "+b.name+"</strong>")},formatAndAdd:function(c,e){var d=this.defaultMessage(c,e.method),b=/\$?\{(\d+)\}/g;if(typeof d=="function"){d=d.call(this,e.parameters,c)}else{if(b.test(d)){d=jQuery.format(d.replace(b,"{$1}"),e.parameters)}}this.errorList.push({message:d,element:c});this.errorMap[c.name]=d;this.submitted[c.name]=d},addWrapper:function(b){if(this.settings.wrapper){b=b.add(b.parent(this.settings.wrapper))}return b},defaultShowErrors:function(){for(var c=0;this.errorList[c];c++){var b=this.errorList[c];this.settings.highlight&&this.settings.highlight.call(this,b.element,this.settings.errorClass,this.settings.validClass);this.showLabel(b.element,b.message)}if(this.errorList.length){this.toShow=this.toShow.add(this.containers)}if(this.settings.success){for(var c=0;this.successList[c];c++){this.showLabel(this.successList[c])}}if(this.settings.unhighlight){for(var c=0,d=this.validElements();d[c];c++){this.settings.unhighlight.call(this,d[c],this.settings.errorClass,this.settings.validClass)}}this.toHide=this.toHide.not(this.toShow);this.hideErrors();this.addWrapper(this.toShow).show()},validElements:function(){return this.currentElements.not(this.invalidElements())},invalidElements:function(){return a(this.errorList).map(function(){return this.element})},showLabel:function(c,d){var b=this.errorsFor(c);if(b.length){b.removeClass(this.settings.validClass).addClass(this.settings.errorClass);b.attr("generated")&&b.html(d)}else{b=a("<"+this.settings.errorElement+"/>").attr({"for":this.idOrName(c),generated:true}).addClass(this.settings.errorClass).html(d||"");if(this.settings.wrapper){b=b.hide().show().wrap("<"+this.settings.wrapper+"/>").parent()}if(!this.labelContainer.append(b).length){this.settings.errorPlacement?this.settings.errorPlacement(b,a(c)):b.insertAfter(c)}}if(!d&&this.settings.success){b.text("");typeof this.settings.success=="string"?b.addClass(this.settings.success):this.settings.success(b)}this.toShow=this.toShow.add(b)},errorsFor:function(c){var b=this.idOrName(c);return this.errors().filter(function(){return a(this).attr("for")==b})},idOrName:function(b){return this.groups[b.name]||(this.checkable(b)?b.name:b.id||b.name)},validationTargetFor:function(b){if(this.checkable(b)){b=this.findByName(b.name).not(this.settings.ignore)[0]}return b},checkable:function(b){return/radio|checkbox/i.test(b.type)},findByName:function(b){var c=this.currentForm;return a(document.getElementsByName(b)).map(function(d,e){return e.form==c&&e.name==b&&e||null})},getLength:function(c,b){switch(b.nodeName.toLowerCase()){case"select":return a("option:selected",b).length;case"input":if(this.checkable(b)){return this.findByName(b.name).filter(":checked").length}}return c.length},depend:function(c,b){return this.dependTypes[typeof c]?this.dependTypes[typeof c](c,b):true},dependTypes:{"boolean":function(c,b){return c},string:function(c,b){return !!a(c,b.form).length},"function":function(c,b){return c(b)}},optional:function(b){return !a.validator.methods.required.call(this,a.trim(b.value),b)&&"dependency-mismatch"},startRequest:function(b){if(!this.pending[b.name]){this.pendingRequest++;this.pending[b.name]=true}},stopRequest:function(b,c){this.pendingRequest--;if(this.pendingRequest<0){this.pendingRequest=0}delete this.pending[b.name];if(c&&this.pendingRequest==0&&this.formSubmitted&&this.form()){a(this.currentForm).submit();this.formSubmitted=false}else{if(!c&&this.pendingRequest==0&&this.formSubmitted){a(this.currentForm).triggerHandler("invalid-form",[this]);this.formSubmitted=false}}},previousValue:function(b){return a.data(b,"previousValue")||a.data(b,"previousValue",{old:null,valid:true,message:this.defaultMessage(b,"remote")})}},classRuleSettings:{required:{required:true},email:{email:true},url:{url:true},date:{date:true},dateISO:{dateISO:true},dateDE:{dateDE:true},number:{number:true},numberDE:{numberDE:true},digits:{digits:true},creditcard:{creditcard:true}},addClassRules:function(b,c){b.constructor==String?this.classRuleSettings[b]=c:a.extend(this.classRuleSettings,b)},classRules:function(c){var d={};var b=a(c).attr("class");b&&a.each(b.split(" "),function(){if(this in a.validator.classRuleSettings){a.extend(d,a.validator.classRuleSettings[this])}});return d},attributeRules:function(c){var e={};var b=a(c);for(var f in a.validator.methods){var d;if(f==="required"&&typeof a.fn.prop==="function"){d=b.prop(f)}else{d=b.attr(f)}if(d){e[f]=d}else{if(b[0].getAttribute("type")===f){e[f]=true}}}if(e.maxlength&&/-1|2147483647|524288/.test(e.maxlength)){delete e.maxlength}return e},metadataRules:function(b){if(!a.metadata){return{}}var c=a.data(b.form,"validator").settings.meta;return c?a(b).metadata()[c]:a(b).metadata()},staticRules:function(c){var d={};var b=a.data(c.form,"validator");if(b.settings.rules){d=a.validator.normalizeRule(b.settings.rules[c.name])||{}}return d},normalizeRules:function(c,b){a.each(c,function(f,e){if(e===false){delete c[f];return}if(e.param||e.depends){var d=true;switch(typeof e.depends){case"string":d=!!a(e.depends,b.form).length;break;case"function":d=e.depends.call(b,b);break}if(d){c[f]=e.param!==undefined?e.param:true}else{delete c[f]}}});a.each(c,function(d,e){c[d]=a.isFunction(e)?e(b):e});a.each(["minlength","maxlength","min","max"],function(){if(c[this]){c[this]=Number(c[this])}});a.each(["rangelength","range"],function(){if(c[this]){c[this]=[Number(c[this][0]),Number(c[this][1])]}});if(a.validator.autoCreateRanges){if(c.min&&c.max){c.range=[c.min,c.max];delete c.min;delete c.max}if(c.minlength&&c.maxlength){c.rangelength=[c.minlength,c.maxlength];delete c.minlength;delete c.maxlength}}if(c.messages){delete c.messages}return c},normalizeRule:function(c){if(typeof c=="string"){var b={};a.each(c.split(/\s/),function(){b[this]=true});c=b}return c},addMethod:function(b,d,c){a.validator.methods[b]=d;a.validator.messages[b]=c!=undefined?c:a.validator.messages[b];if(d.length<3){a.validator.addClassRules(b,a.validator.normalizeRule(b))}},methods:{required:function(c,b,e){if(!this.depend(e,b)){return"dependency-mismatch"}switch(b.nodeName.toLowerCase()){case"select":var d=a(b).val();return d&&d.length>0;case"input":if(this.checkable(b)){return this.getLength(c,b)>0}default:return a.trim(c).length>0}},remote:function(f,c,g){if(this.optional(c)){return"dependency-mismatch"}var d=this.previousValue(c);if(!this.settings.messages[c.name]){this.settings.messages[c.name]={}}d.originalMessage=this.settings.messages[c.name].remote;this.settings.messages[c.name].remote=d.message;g=typeof g=="string"&&{url:g}||g;if(this.pending[c.name]){return"pending"}if(d.old===f){return d.valid}d.old=f;var b=this;this.startRequest(c);var e={};e[c.name]=f;a.ajax(a.extend(true,{url:g,mode:"abort",port:"validate"+c.name,dataType:"json",data:e,success:function(i){b.settings.messages[c.name].remote=d.originalMessage;var k=i===true;if(k){var h=b.formSubmitted;b.prepareElement(c);b.formSubmitted=h;b.successList.push(c);b.showErrors()}else{var l={};var j=i||b.defaultMessage(c,"remote");l[c.name]=d.message=a.isFunction(j)?j(f):j;b.showErrors(l)}d.valid=k;b.stopRequest(c,k)}},g));return"pending"},minlength:function(c,b,d){return this.optional(b)||this.getLength(a.trim(c),b)>=d},maxlength:function(c,b,d){return this.optional(b)||this.getLength(a.trim(c),b)<=d},rangelength:function(d,b,e){var c=this.getLength(a.trim(d),b);return this.optional(b)||(c>=e[0]&&c<=e[1])},min:function(c,b,d){return this.optional(b)||c>=d},max:function(c,b,d){return this.optional(b)||c<=d},range:function(c,b,d){return this.optional(b)||(c>=d[0]&&c<=d[1])},email:function(c,b){return this.optional(b)||/^((([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+(\.([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+)*)|((\x22)((((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(([\x01-\x08\x0b\x0c\x0e-\x1f\x7f]|\x21|[\x23-\x5b]|[\x5d-\x7e]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(\\([\x01-\x09\x0b\x0c\x0d-\x7f]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))))*(((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(\x22)))@((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))$/i.test(c)},url:function(c,b){return this.optional(b)||/^(https?|ftp):\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(\#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i.test(c)},date:function(c,b){return this.optional(b)||!/Invalid|NaN/.test(new Date(c))},dateISO:function(c,b){return this.optional(b)||/^\d{4}[\/-]\d{1,2}[\/-]\d{1,2}$/.test(c)},number:function(c,b){return this.optional(b)||/^-?(?:\d+|\d{1,3}(?:,\d{3})+)(?:\.\d+)?$/.test(c)},digits:function(c,b){return this.optional(b)||/^\d+$/.test(c)},creditcard:function(f,c){if(this.optional(c)){return"dependency-mismatch"}if(/[^0-9 -]+/.test(f)){return false}var g=0,e=0,b=false;f=f.replace(/\D/g,"");for(var h=f.length-1;h>=0;h--){var d=f.charAt(h);var e=parseInt(d,10);if(b){if((e*=2)>9){e-=9}}g+=e;b=!b}return(g%10)==0},accept:function(c,b,d){d=typeof d=="string"?d.replace(/,/g,"|"):"png|jpe?g|gif";return this.optional(b)||c.match(new RegExp(".("+d+")$","i"))},equalTo:function(c,b,e){var d=a(e).unbind(".validate-equalTo").bind("blur.validate-equalTo",function(){a(b).valid()});return c==d.val()}}});a.format=a.validator.format})(jQuery);(function(c){var a={};if(c.ajaxPrefilter){c.ajaxPrefilter(function(f,e,g){var d=f.port;if(f.mode=="abort"){if(a[d]){a[d].abort()}a[d]=g}})}else{var b=c.ajax;c.ajax=function(e){var f=("mode" in e?e:c.ajaxSettings).mode,d=("port" in e?e:c.ajaxSettings).port;if(f=="abort"){if(a[d]){a[d].abort()}return(a[d]=b.apply(this,arguments))}return b.apply(this,arguments)}}})(jQuery);(function(a){if(!jQuery.event.special.focusin&&!jQuery.event.special.focusout&&document.addEventListener){a.each({focus:"focusin",blur:"focusout"},function(c,b){a.event.special[b]={setup:function(){this.addEventListener(c,d,true)},teardown:function(){this.removeEventListener(c,d,true)},handler:function(f){arguments[0]=a.event.fix(f);arguments[0].type=b;return a.event.handle.apply(this,arguments)}};function d(f){f=a.event.fix(f);f.type=b;return a.event.handle.call(this,f)}})}a.extend(a.fn,{validateDelegate:function(d,c,b){return this.bind(c,function(e){var f=a(e.target);if(f.is(d)){return b.apply(f,arguments)}})}})})(jQuery);
/*! Copyright (c) 2010 Brandon Aaron (http://brandonaaron.net)
* Licensed under the MIT License (LICENSE.txt).
*
* Thanks to: http://adomas.org/javascript-mouse-wheel/ for some pointers.
* Thanks to: Mathias Bank(http://www.mathias-bank.de) for a scope bug fix.
* Thanks to: Seamus Leahy for adding deltaX and deltaY
*
* Version: 3.0.4
*
* Requires: 1.2.2+
*/
(function(c){function a(f){var d=f||window.event,g=[].slice.call(arguments,1),l=0,j=0,k=0;f=c.event.fix(d);f.type="mousewheel";if(f.wheelDelta){l=f.wheelDelta/120}if(f.detail){l=-f.detail/3}k=l;if(d.axis!==undefined&&d.axis===d.HORIZONTAL_AXIS){k=0;j=-1*l}if(d.wheelDeltaY!==undefined){k=d.wheelDeltaY/120}if(d.wheelDeltaX!==undefined){j=-1*d.wheelDeltaX/120}g.unshift(f,l,j,k);return c.event.handle.apply(this,g)}var b=["DOMMouseScroll","mousewheel"];c.event.special.mousewheel={setup:function(){if(this.addEventListener){for(var d=b.length;d;){this.addEventListener(b[--d],a,false)}}else{this.onmousewheel=a}},teardown:function(){if(this.removeEventListener){for(var d=b.length;d;){this.removeEventListener(b[--d],a,false)}}else{this.onmousewheel=null}}};c.fn.extend({mousewheel:function(d){return d?this.bind("mousewheel",d):this.trigger("mousewheel")},unmousewheel:function(d){return this.unbind("mousewheel",d)}})})(jQuery);
(function(aG){var ay,aq,ap,aD,aj,aA,ai,ax,am,al,au=0,aE={},aw=[],av=0,aF={},az=[],ag=null,ao=new Image,ae=/\.(jpg|gif|png|bmp|jpeg)(.*)?$/i,k=/[^\.]\.(swf)\s*$/i,ad,ac=1,an=0,ar="",at,aB,aC=false,ak=aG.extend(aG("<div/>")[0],{prop:0}),ab=aG.browser.msie&&aG.browser.version<7&&!window.XMLHttpRequest,aa=function(){aq.hide();ao.onerror=ao.onload=null;ag&&ag.abort();ay.empty()},R=function(){if(false===aE.onError(aw,au,aE)){aq.hide();aC=false}else{aE.titleShow=false;aE.width="auto";aE.height="auto";ay.html('<p id="fancybox-error">The requested content cannot be loaded.<br />Please try again later.</p>');ah()}},af=function(){var d=aw[au],j,f,e,i,h,b;aa();aE=aG.extend({},aG.fn.fancybox.defaults,typeof aG(d).data("fancybox")=="undefined"?aE:aG(d).data("fancybox"));b=aE.onStart(aw,au,aE);if(b===false){aC=false}else{if(typeof b=="object"){aE=aG.extend(aE,b)}e=aE.title||(d.nodeName?aG(d).attr("title"):d.title)||"";if(d.nodeName&&!aE.orig){aE.orig=aG(d).children("img:first").length?aG(d).children("img:first"):aG(d)}if(e===""&&aE.orig&&aE.titleFromAlt){e=aE.orig.attr("alt")}j=aE.href||(d.nodeName?aG(d).attr("href"):d.href)||null;if(/^(?:javascript)/i.test(j)||j=="#"){j=null}if(aE.type){f=aE.type;if(!j){j=aE.content}}else{if(aE.content){f="html"}else{if(j){f=j.match(ae)?"image":j.match(k)?"swf":aG(d).hasClass("iframe")?"iframe":j.indexOf("#")===0?"inline":"ajax"}}}if(f){if(f=="inline"){d=j.substr(j.indexOf("#"));f=aG(d).length>0?"inline":"ajax"}aE.type=f;aE.href=j;aE.title=e;if(aE.autoDimensions){if(aE.type=="html"||aE.type=="inline"||aE.type=="ajax"){aE.width="auto";aE.height="auto"}else{aE.autoDimensions=false}}if(aE.modal){aE.overlayShow=true;aE.hideOnOverlayClick=false;aE.hideOnContentClick=false;aE.enableEscapeButton=false;aE.showCloseButton=false}aE.padding=parseInt(aE.padding,10);aE.margin=parseInt(aE.margin,10);ay.css("padding",aE.padding+aE.margin);aG(".fancybox-inline-tmp").unbind("fancybox-cancel").bind("fancybox-change",function(){aG(this).replaceWith(aA.children())});switch(f){case"html":ay.html(aE.content);ah();break;case"inline":if(aG(d).parent().is("#fancybox-content")===true){aC=false;break}aG('<div class="fancybox-inline-tmp" />').hide().insertBefore(aG(d)).bind("fancybox-cleanup",function(){aG(this).replaceWith(aA.children())}).bind("fancybox-cancel",function(){aG(this).replaceWith(ay.children())});aG(d).appendTo(ay);ah();break;case"image":aC=false;aG.fancybox.showActivity();ao=new Image;ao.onerror=function(){R()};ao.onload=function(){aC=true;ao.onerror=ao.onload=null;aE.width=ao.width;aE.height=ao.height;aG("<img />").attr({id:"fancybox-img",src:ao.src,alt:aE.title}).appendTo(ay);P()};ao.src=j;break;case"swf":aE.scrolling="no";i='<object classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" width="'+aE.width+'" height="'+aE.height+'"><param name="movie" value="'+j+'"></param>';h="";aG.each(aE.swf,function(l,m){i+='<param name="'+l+'" value="'+m+'"></param>';h+=" "+l+'="'+m+'"'});i+='<embed src="'+j+'" type="application/x-shockwave-flash" width="'+aE.width+'" height="'+aE.height+'"'+h+"></embed></object>";ay.html(i);ah();break;case"ajax":aC=false;aG.fancybox.showActivity();aE.ajax.win=aE.ajax.success;ag=aG.ajax(aG.extend({},aE.ajax,{url:j,data:aE.ajax.data||{},error:function(l){l.status>0&&R()},success:function(l,m,n){if((typeof n=="object"?n:ag).status==200){if(typeof aE.ajax.win=="function"){b=aE.ajax.win(j,l,m,n);if(b===false){aq.hide();return}else{if(typeof b=="string"||typeof b=="object"){l=b}}}ay.html(l);ah()}}}));break;case"iframe":P()}}else{R()}}},ah=function(){var b=aE.width,d=aE.height;b=b.toString().indexOf("%")>-1?parseInt((aG(window).width()-aE.margin*2)*parseFloat(b)/100,10)+"px":b=="auto"?"auto":b+"px";d=d.toString().indexOf("%")>-1?parseInt((aG(window).height()-aE.margin*2)*parseFloat(d)/100,10)+"px":d=="auto"?"auto":d+"px";ay.wrapInner('<div style="width:'+b+";height:"+d+";overflow: "+(aE.scrolling=="auto"?"auto":aE.scrolling=="yes"?"scroll":"hidden")+';position:relative;"></div>');aE.width=ay.width();aE.height=ay.height();P()},P=function(){var b,d;aq.hide();if(aD.is(":visible")&&false===aF.onCleanup(az,av,aF)){aG.event.trigger("fancybox-cancel");aC=false}else{aC=true;aG(aA.add(ap)).unbind();aG(window).unbind("resize.fb scroll.fb");aG(document).unbind("keydown.fb");aD.is(":visible")&&aF.titlePosition!=="outside"&&aD.css("height",aD.height());az=aw;av=au;aF=aE;if(aF.overlayShow){ap.css({"background-color":aF.overlayColor,opacity:aF.overlayOpacity,cursor:aF.hideOnOverlayClick?"pointer":"auto",height:aG(document).height()});if(!ap.is(":visible")){ab&&aG("select:not(#fancybox-tmp select)").filter(function(){return this.style.visibility!=="hidden"}).css({visibility:"hidden"}).one("fancybox-cleanup",function(){this.style.visibility="inherit"});ap.show()}}else{ap.hide()}aB=g();ar=aF.title||"";an=0;ax.empty().removeAttr("style").removeClass();if(aF.titleShow!==false){if(aG.isFunction(aF.titleFormat)){b=aF.titleFormat(ar,az,av,aF)}else{b=ar&&ar.length?aF.titlePosition=="float"?'<table id="fancybox-title-float-wrap" cellpadding="0" cellspacing="0"><tr><td id="fancybox-title-float-left"></td><td id="fancybox-title-float-main">'+ar+'</td><td id="fancybox-title-float-right"></td></tr></table>':'<div id="fancybox-title-'+aF.titlePosition+'">'+ar+"</div>":false}ar=b;if(!(!ar||ar==="")){ax.addClass("fancybox-title-"+aF.titlePosition).html(ar).appendTo("body").show();switch(aF.titlePosition){case"inside":ax.css({width:aB.width-aF.padding*2,marginLeft:aF.padding,marginRight:aF.padding});an=ax.outerHeight(true);ax.appendTo(aj);aB.height+=an;break;case"over":ax.css({marginLeft:aF.padding,width:aB.width-aF.padding*2,bottom:aF.padding}).appendTo(aj);break;case"float":ax.css("left",parseInt((ax.width()-aB.width-40)/2,10)*-1).appendTo(aD);break;default:ax.css({width:aB.width-aF.padding*2,paddingLeft:aF.padding,paddingRight:aF.padding}).appendTo(aD)}}}ax.hide();if(aD.is(":visible")){aG(ai.add(am).add(al)).hide();b=aD.position();at={top:b.top,left:b.left,width:aD.width(),height:aD.height()};d=at.width==aB.width&&at.height==aB.height;aA.fadeTo(aF.changeFade,0.3,function(){var e=function(){aA.html(ay.contents()).fadeTo(aF.changeFade,1,H)};aG.event.trigger("fancybox-change");aA.empty().removeAttr("filter").css({"border-width":aF.padding,width:aB.width-aF.padding*2,height:aE.autoDimensions?"auto":aB.height-an-aF.padding*2});if(d){e()}else{ak.prop=0;aG(ak).animate({prop:1},{duration:aF.changeSpeed,easing:aF.easingChange,step:C,complete:e})}})}else{aD.removeAttr("style");aA.css("border-width",aF.padding);if(aF.transitionIn=="elastic"){at=w();aA.html(ay.contents());aD.show();if(aF.opacity){aB.opacity=0}ak.prop=0;aG(ak).animate({prop:1},{duration:aF.speedIn,easing:aF.easingIn,step:C,complete:H})}else{aF.titlePosition=="inside"&&an>0&&ax.show();aA.css({width:aB.width-aF.padding*2,height:aE.autoDimensions?"auto":aB.height-an-aF.padding*2}).html(ay.contents());aD.css(aB).fadeIn(aF.transitionIn=="none"?0:aF.speedIn,H)}}}},c=function(){if(aF.enableEscapeButton||aF.enableKeyboardNav){aG(document).bind("keydown.fb",function(b){if(b.keyCode==27&&aF.enableEscapeButton){b.preventDefault();aG.fancybox.close()}else{if((b.keyCode==37||b.keyCode==39)&&aF.enableKeyboardNav&&b.target.tagName!=="INPUT"&&b.target.tagName!=="TEXTAREA"&&b.target.tagName!=="SELECT"){b.preventDefault();aG.fancybox[b.keyCode==37?"prev":"next"]()}}})}if(aF.showNavArrows){if(aF.cyclic&&az.length>1||av!==0){am.show()}if(aF.cyclic&&az.length>1||av!=az.length-1){al.show()}}else{am.hide();al.hide()}},H=function(){if(!aG.support.opacity){aA.get(0).style.removeAttribute("filter");aD.get(0).style.removeAttribute("filter")}aE.autoDimensions&&aA.css("height","auto");aD.css("height","auto");ar&&ar.length&&ax.show();aF.showCloseButton&&ai.show();c();aF.hideOnContentClick&&aA.bind("click",aG.fancybox.close);aF.hideOnOverlayClick&&ap.bind("click",aG.fancybox.close);aG(window).bind("resize.fb",aG.fancybox.resize);aF.centerOnScroll&&aG(window).bind("scroll.fb",aG.fancybox.center);if(aF.type=="iframe"){aG('<iframe id="fancybox-frame" name="fancybox-frame'+(new Date).getTime()+'" frameborder="0" hspace="0" '+(aG.browser.msie?'allowtransparency="true""':"")+' scrolling="'+aE.scrolling+'" src="'+aF.href+'"></iframe>').appendTo(aA)}aD.show();aC=false;aG.fancybox.center();aF.onComplete(az,av,aF);var b,d;if(az.length-1>av){b=az[av+1].href;if(typeof b!=="undefined"&&b.match(ae)){d=new Image;d.src=b}}if(av>0){b=az[av-1].href;if(typeof b!=="undefined"&&b.match(ae)){d=new Image;d.src=b}}},C=function(b){var d={width:parseInt(at.width+(aB.width-at.width)*b,10),height:parseInt(at.height+(aB.height-at.height)*b,10),top:parseInt(at.top+(aB.top-at.top)*b,10),left:parseInt(at.left+(aB.left-at.left)*b,10)};if(typeof aB.opacity!=="undefined"){d.opacity=b<0.5?0.5:b}aD.css(d);aA.css({width:d.width-aF.padding*2,height:d.height-an*b-aF.padding*2})},x=function(){return[aG(window).width()-aF.margin*2,aG(window).height()-aF.margin*2,aG(document).scrollLeft()+aF.margin,aG(document).scrollTop()+aF.margin]},g=function(){var b=x(),f={},e=aF.autoScale,d=aF.padding*2;f.width=aF.width.toString().indexOf("%")>-1?parseInt(b[0]*parseFloat(aF.width)/100,10):aF.width+d;f.height=aF.height.toString().indexOf("%")>-1?parseInt(b[1]*parseFloat(aF.height)/100,10):aF.height+d;if(e&&(f.width>b[0]||f.height>b[1])){if(aE.type=="image"||aE.type=="swf"){e=aF.width/aF.height;if(f.width>b[0]){f.width=b[0];f.height=parseInt((f.width-d)/e+d,10)}if(f.height>b[1]){f.height=b[1];f.width=parseInt((f.height-d)*e+d,10)}}else{f.width=Math.min(f.width,b[0]);f.height=Math.min(f.height,b[1])}}f.top=parseInt(Math.max(b[3]-20,b[3]+(b[1]-f.height-40)*0.5),10);f.left=parseInt(Math.max(b[2]-20,b[2]+(b[0]-f.width-40)*0.5),10);return f},w=function(){var b=aE.orig?aG(aE.orig):false,d={};if(b&&b.length){d=b.offset();d.top+=parseInt(b.css("paddingTop"),10)||0;d.left+=parseInt(b.css("paddingLeft"),10)||0;d.top+=parseInt(b.css("border-top-width"),10)||0;d.left+=parseInt(b.css("border-left-width"),10)||0;d.width=b.width();d.height=b.height();d={width:d.width+aF.padding*2,height:d.height+aF.padding*2,top:d.top-aF.padding-20,left:d.left-aF.padding-20}}else{b=x();d={width:aF.padding*2,height:aF.padding*2,top:parseInt(b[3]+b[1]*0.5,10),left:parseInt(b[2]+b[0]*0.5,10)}}return d},a=function(){if(aq.is(":visible")){aG("div",aq).css("top",ac*-40+"px");ac=(ac+1)%12}else{clearInterval(ad)}};aG.fn.fancybox=function(b){if(!aG(this).length){return this}aG(this).data("fancybox",aG.extend({},b,aG.metadata?aG(this).metadata():{})).unbind("click.fb").bind("click.fb",function(d){d.preventDefault();if(!aC){aC=true;aG(this).blur();aw=[];au=0;d=aG(this).attr("rel")||"";if(!d||d==""||d==="nofollow"){aw.push(this)}else{aw=aG("a[rel="+d+"], area[rel="+d+"]");au=aw.index(this)}af()}});return this};aG.fancybox=function(b,h){var e;if(!aC){aC=true;e=typeof h!=="undefined"?h:{};aw=[];au=parseInt(e.index,10)||0;if(aG.isArray(b)){for(var d=0,f=b.length;d<f;d++){if(typeof b[d]=="object"){aG(b[d]).data("fancybox",aG.extend({},e,b[d]))}else{b[d]=aG({}).data("fancybox",aG.extend({content:b[d]},e))}}aw=jQuery.merge(aw,b)}else{if(typeof b=="object"){aG(b).data("fancybox",aG.extend({},e,b))}else{b=aG({}).data("fancybox",aG.extend({content:b},e))}aw.push(b)}if(au>aw.length||au<0){au=0}af()}};aG.fancybox.showActivity=function(){clearInterval(ad);aq.show();ad=setInterval(a,66)};aG.fancybox.hideActivity=function(){aq.hide()};aG.fancybox.next=function(){return aG.fancybox.pos(av+1)};aG.fancybox.prev=function(){return aG.fancybox.pos(av-1)};aG.fancybox.pos=function(b){if(!aC){b=parseInt(b);aw=az;if(b>-1&&b<az.length){au=b;af()}else{if(aF.cyclic&&az.length>1){au=b>=az.length?0:az.length-1;af()}}}};aG.fancybox.cancel=function(){if(!aC){aC=true;aG.event.trigger("fancybox-cancel");aa();aE.onCancel(aw,au,aE);aC=false}};aG.fancybox.close=function(){function b(){ap.fadeOut("fast");ax.empty().hide();aD.hide();aG.event.trigger("fancybox-cleanup");aA.empty();aF.onClosed(az,av,aF);az=aE=[];av=au=0;aF=aE={};aC=false}if(!(aC||aD.is(":hidden"))){aC=true;if(aF&&false===aF.onCleanup(az,av,aF)){aC=false}else{aa();aG(ai.add(am).add(al)).hide();aG(aA.add(ap)).unbind();aG(window).unbind("resize.fb scroll.fb");aG(document).unbind("keydown.fb");aA.find("iframe").attr("src",ab&&/^https/i.test(window.location.href||"")?"javascript:void(false)":"about:blank");aF.titlePosition!=="inside"&&ax.empty();aD.stop();if(aF.transitionOut=="elastic"){at=w();var d=aD.position();aB={top:d.top,left:d.left,width:aD.width(),height:aD.height()};if(aF.opacity){aB.opacity=1}ax.empty().hide();ak.prop=1;aG(ak).animate({prop:0},{duration:aF.speedOut,easing:aF.easingOut,step:C,complete:b})}else{aD.fadeOut(aF.transitionOut=="none"?0:aF.speedOut,b)}}}};aG.fancybox.resize=function(){ap.is(":visible")&&ap.css("height",aG(document).height());aG.fancybox.center(true)};aG.fancybox.center=function(b){var e,d;if(!aC){d=b===true?1:0;e=x();!d&&(aD.width()>e[0]||aD.height()>e[1])||aD.stop().animate({top:parseInt(Math.max(e[3]-20,e[3]+(e[1]-aA.height()-40)*0.5-aF.padding)),left:parseInt(Math.max(e[2]-20,e[2]+(e[0]-aA.width()-40)*0.5-aF.padding))},typeof b=="number"?b:200)}};aG.fancybox.init=function(){if(!aG("#fancybox-wrap").length){aG("body").append(ay=aG('<div id="fancybox-tmp"></div>'),aq=aG('<div id="fancybox-loading"><div></div></div>'),ap=aG('<div id="fancybox-overlay"></div>'),aD=aG('<div id="fancybox-wrap"></div>'));aj=aG('<div id="fancybox-outer"></div>').append('<div class="fancybox-bg" id="fancybox-bg-n"></div><div class="fancybox-bg" id="fancybox-bg-ne"></div><div class="fancybox-bg" id="fancybox-bg-e"></div><div class="fancybox-bg" id="fancybox-bg-se"></div><div class="fancybox-bg" id="fancybox-bg-s"></div><div class="fancybox-bg" id="fancybox-bg-sw"></div><div class="fancybox-bg" id="fancybox-bg-w"></div><div class="fancybox-bg" id="fancybox-bg-nw"></div>').appendTo(aD);aj.append(aA=aG('<div id="fancybox-content"></div>'),ai=aG('<a id="fancybox-close"></a>'),ax=aG('<div id="fancybox-title"></div>'),am=aG('<a href="javascript:;" id="fancybox-left"><span class="fancy-ico" id="fancybox-left-ico"></span></a>'),al=aG('<a href="javascript:;" id="fancybox-right"><span class="fancy-ico" id="fancybox-right-ico"></span></a>'));ai.click(aG.fancybox.close);aq.click(aG.fancybox.cancel);am.click(function(b){b.preventDefault();aG.fancybox.prev()});al.click(function(b){b.preventDefault();aG.fancybox.next()});aG.fn.mousewheel&&aD.bind("mousewheel.fb",function(b,d){if(aC){b.preventDefault()}else{if(aG(b.target).get(0).clientHeight==0||aG(b.target).get(0).scrollHeight===aG(b.target).get(0).clientHeight){b.preventDefault();aG.fancybox[d>0?"prev":"next"]()}}});aG.support.opacity||aD.addClass("fancybox-ie");if(ab){aq.addClass("fancybox-ie6");aD.addClass("fancybox-ie6");aG('<iframe id="fancybox-hide-sel-frame" src="'+(/^https/i.test(window.location.href||"")?"javascript:void(false)":"about:blank")+'" scrolling="no" border="0" frameborder="0" tabindex="-1"></iframe>').prependTo(aj)}}};aG.fn.fancybox.defaults={padding:10,margin:40,opacity:false,modal:false,cyclic:false,scrolling:"auto",width:560,height:340,autoScale:true,autoDimensions:true,centerOnScroll:false,ajax:{},swf:{wmode:"transparent"},hideOnOverlayClick:true,hideOnContentClick:false,overlayShow:true,overlayOpacity:0.7,overlayColor:"#777",titleShow:false,titlePosition:"float",titleFormat:null,titleFromAlt:false,transitionIn:"fade",transitionOut:"fade",speedIn:300,speedOut:300,changeSpeed:300,changeFade:"fast",easingIn:"swing",easingOut:"swing",showCloseButton:true,showNavArrows:true,enableEscapeButton:true,enableKeyboardNav:true,onStart:function(){},onCancel:function(){},onComplete:function(){},onCleanup:function(){},onClosed:function(){},onError:function(){}};aG(document).ready(function(){aG.fancybox.init()})})(jQuery);
(function(d,b){d.yy=d.yy||{};d.fn.yy=d.fn.yy||{};d.extend(d.yy,{rscallback:function(f,e){d("#rscallback").show();d("#rscallback").html('<span class="'+(parseInt(e)>0?"icoWrongtk":"icoRighttk")+'">'+f+"</span>");if(parseInt(d(document).scrollTop())>parseInt(d("#rscallback").offset().top)){d("#rscallback").css("top",d(document).scrollTop())}setTimeout(function(){d("#rscallback").hide()},4000)}});d.extend(d.validator.defaults,{errorElement:"span",validClass:"icoRight",errorClass:"icoWrong",errorBg:"redBg",hasIco:true,success:function(e){var h="#"+e.attr("for");var g=this.hasIco?d(h).parent():d(h);if(d("#valid_"+e.attr("for")).html()==null){var f='<span id="valid_'+e.attr("for")+'" class="'+this.validClass+'"></span>';g.after(f)}e.replaceWith("");g.removeClass(this.errorBg)},errorPlacement:function(e,f){if(e.html()==""){return}var h=f.attr("id");var g=this.hasIco?f.parent():f;d("#valid_"+h).remove();g.addClass(this.errorBg);d("#"+h).parent().find("."+this.validClass).replaceWith("");g.after(e);e.attr("id","lab_"+h)}});d.extend(d.yy,{authpwd:function(f){var e=this;e.settings={id:"password",labid:"authpwd",defaultwidth:20,startlength:4};d.extend(e.settings,f);e.valid=function(){var g=d("#"+e.settings.id).val();if(g.length>=e.settings.startlength){if(/[a-zA-Z]+/.test(g)&&/[0-9]+/.test(g)&&/\W+\D+/.test(g)){e.noticeAssign(100)}else{if(/[a-zA-Z]+/.test(g)||/[0-9]+/.test(g)||/\W+\D+/.test(g)){if(/[a-zA-Z]+/.test(g)&&/[0-9]+/.test(g)){e.noticeAssign(50)}else{if(/\[a-zA-Z]+/.test(g)&&/\W+\D+/.test(g)){e.noticeAssign(50)}else{if(/[0-9]+/.test(g)&&/\W+\D+/.test(g)){e.noticeAssign(50)}else{e.noticeAssign(e.settings.defaultwidth)}}}}}}else{e.noticeAssign(e.settings.defaultwidth)}};e.noticeAssign=function(g){if(g>=0){d("#"+e.settings.labid).css("width",g+"%")}};e.noticeAssign(0);d("#"+e.settings.id).bind("keypress",e.valid)}});var c="_yy_dl";d.extend(d.yy,{defaultText:function(f){function g(i){var h=i;if(typeof(i)=="object"){h=i.attr("id")}return h+c}function e(m,j,h,i,l){j.on("click",function(){m.focus()});m.on({blur:function(){var n=d(this);if(d.trim(n.val())===""){n.val("");j.html(h)}else{j.html("")}l(m)},keydown:k,keyup:k,change:k});function k(){var n=d(this);!!n.val()?j.html(""):j.html(h)}}d.each(f,function(l,h){var k={txt:"",css:"inputSpan",val:"",focus:function(){},blur:function(){}};if(typeof(h)=="string"){h={txt:h}}d.extend(k,h);var i=d("#"+l);if(typeof(i.attr("id"))=="undefined"){return}i.val(k.val);var j=g(l);d('<span id="'+j+'" class="'+k.css+'">'+k.txt+"</span>").insertBefore(i);e(i,d("#"+j),k.txt,k.focus,k.blur)})}});d.extend(d.yy,{comboDiv:function(g){var e=this,h='<span class="arrowDown"></span>';e.selected=function(j){var i=d(this).attr("id");var k=d(this).parent().attr("id");k=e.id(k,0,true);e.parameters[k].defaultid=e.id(i,2,true);d("#group").val(e.id(i,2,true));if(d("span.arrowDown","#"+e.id(k,1)).length>0){d("#"+e.id(k,1)).html(d(this).text()+h)}else{d("#"+e.id(k,1)).html(d(this).text())}d.each(d("#"+e.id(k,0)+" > a"),function(l,m){d(this).find("."+f).remove()});d('<span class="'+f+'" data="'+e.parameters[k].defaultid+'"></span>').appendTo(d(this));d("#"+e.id(k,0)).hide();e.parameters[k].callback(e.parameters[k].defaultid,e.parameters[k]);return false};e.settings={labelcss:"blueLink",defaultid:0,labelover:"cur",css:"tkBox c3a",data:[{id:0,title:"",txt:"",href:"###",css:"",ico:"",icotitle:""}],remote:false,selected:e.selected,firstrq:true,callback:function(){}};var f="icor";e.parameters={};e.id=function(l,j,i){var k=["aside_","label_","combo_list_"];if(i==true){return l.replace(k[j],"")}return k[j]+l};e.display=function(i,j){if(e.parameters[j].ajax){return false}if(d.trim(i.html())==""){d(e.createHtml(j)).appendTo(i)}if(typeof(d("#"+i.attr("id")+" > a").data("events"))=="undefined"){d("#"+i.attr("id")+" > a").bind("click",e.parameters[j].selected)}e.parameters[j].showFlag=true;i.show()};e.hide=function(i,j){setTimeout(function(){if(!e.parameters[j].showFlag){i.hide();e.parameters[j].showFlag=false}},100)};e.bindevent=function(j,i,k){j.on({mouseenter:function(m){var l=e.parameters[k];if(l!=="undefined"){d("#"+e.id(k,1)).addClass(l.labelover);if(l.remote){if(l.firstrq){l.ajax=true;l.firstrq=false;d.post(l.remote,[],function(n){l.ajax=false;l.data=n;e.display(i,k);typeof l.callback==="function"&&l.callback(n);return false},"json")}else{if(!l.ajax){e.display(i,k)}}}else{e.display(i,k)}}},mouseleave:function(m){var l=e.parameters[k];if(l!=="undefined"){d("#"+e.id(k,1)).removeClass(l.labelover);l.showFlag=false;e.hide(i,k)}}});i.on({mouseleave:function(m){var l=e.parameters[k];if(l!=="undefined"){d("#"+e.id(k,1)).removeClass(l.labelover);l.showFlag=false;e.hide(i,k)}}})};e.drawlist=function(l,j,i,k){if(e.parameters[l].ajax){return i}var j=k>=0?j[k]:j;d.each(j,function(m,n){i.push('<a id="'+e.id(n.id,2)+'" ');if(typeof(n.css)!="undefined"){i.push('class="'+n.css+'" ')}if(typeof(n.href)=="undefined"){n.href="###"}i.push('href="'+n.href+'" title="'+(typeof(n.title)=="string"?n.title:"")+'"><span class="fl">'+n.txt+"</span>");if(typeof(n.ico)!="undefined"){if(typeof(n.icotitle)=="undefined"){n.icotitle=""}i.push('<span class="'+n.ico+'">'+n.icotitle+"</span>")}if(m==e.val(l)){i.push('<span class="'+f+'"></span>')}i.push("</a>")});return i};e.createHtml=function(l){if(e.parameters[l].ajax){return""}var k=e.parameters[l].data;var j=new Array();if(e.parameters[l].h2 instanceof Array){for(var i=0;i<e.parameters[l].h2.length;i++){j.push("<h2>"+e.parameters[l].h2[i]+"</h2>");j=e.drawlist(l,k,j,i)}}else{if(typeof(e.parameters[l].h2)!="undefined"){j.push("<h2>"+e.parameters[l].h2+"</h2>");j=e.drawlist(l,k,j,-1)}else{j=e.drawlist(l,k,j,-1)}}return j.join("")};e.init=function(){d.each(g,function(l,i){if(typeof(e.parameters[l])!=="undefined"){return}var j=e.parameters[l]={showFlag:false,ajax:false};d.extend(j,e.settings,i);var k=j.callback;d('<a id="'+e.id(l,1)+'" class="'+j.labelcss+'" href="javascript:;">'+(typeof(j.title)==="undefined"?j.data[e.val(l)].txt:j.title)+h+"</a>").appendTo(d("#"+l));if(j.remote&&typeof(j.title)=="undefined"){d.post(j.remote,[],function(m){m=j.format(m);j.data=m;j.firstrq=false;d("#"+e.id(l,1)).html(m[0].txt+h);j.defaultid=m[0].id;typeof k==="function"&&k(m)},"json")}d('<aside id="'+e.id(l,0)+'" class="'+j.css+'"></aside>').appendTo(d("#"+l));d("#"+e.id(l,0)).hide();e.bindevent(d("#"+l),d("#"+e.id(l,0)),l)})};e.val=function(i){return typeof e.parameters[i]!=="undefined"?e.parameters[i].defaultid:0};e.init()}});d.extend(d.yy,{comboDiv1:function(g){var e=this,h='<span class="arrowDown"></span>';e.selected=function(j){var i=d(this).attr("id");var k=d(this).parent().attr("id");k=e.id(k,0,true);e.parameters[k].defaultid=e.id(i,2,true);d("#group").val(e.id(i,2,true));if(d("span.arrowDown","#"+e.id(k,1)).length>0){d("#"+e.id(k,1)).html(d(this).text()+h)}else{d("#"+e.id(k,1)).html(d(this).text())}d.each(d("#"+e.id(k,0)+" > a"),function(l,m){d(this).find("."+f).remove()});d('<span class="'+f+'" data="'+e.parameters[k].defaultid+'"></span>').appendTo(d(this));d("#"+e.id(k,0)).hide();e.parameters[k].callback(e.parameters[k].defaultid,e.parameters[k]);return false};e.settings={labelcss:"blueLink",defaultid:0,labelover:"cur",css:"tkBox c3a",data:[{id:0,title:"",txt:"",href:"###",css:"",ico:"",icotitle:""}],remote:false,selected:e.selected,firstrq:true,callback:function(){}};var f="icor";e.parameters={};e.id=function(l,j,i){var k=["aside_","label_","combo_list_"];if(i==true){return l.replace(k[j],"")}return k[j]+l};e.display=function(i,j){if(e.parameters[j].ajax){return false}if(d.trim(i.html())==""){d(e.createHtml(j)).appendTo(i)}if(typeof(d("#"+i.attr("id")+" > a").data("events"))=="undefined"){d("#"+i.attr("id")+" > a").bind("click",e.parameters[j].selected)}e.parameters[j].showFlag=true;i.show()};e.hide=function(i,j){setTimeout(function(){if(!e.parameters[j].showFlag){i.hide();e.parameters[j].showFlag=false}},100)};e.bindevent=function(j,i,k){j.on({mouseover:function(m){var l=e.parameters[k];if(l!=="undefined"){d("#"+e.id(k,1)).addClass(l.labelover);if(l.remote){if(l.firstrq){l.ajax=true;l.firstrq=false;d.post(l.remote,[],function(n){l.ajax=false;l.data=n;e.display(i,k);return false},"json")}else{if(!l.ajax){e.display(i,k)}}}else{e.display(i,k)}}},mouseout:function(m){var l=e.parameters[k];if(l!=="undefined"){d("#"+e.id(k,1)).removeClass(l.labelover);l.showFlag=false;e.hide(i,k)}},click:function(){return false}});i.on({mouseout:function(m){var l=e.parameters[k];if(l!=="undefined"){d("#"+e.id(k,1)).removeClass(l.labelover);l.showFlag=false;e.hide(i,k)}}})};e.drawlist=function(l,j,i,k){if(e.parameters[l].ajax){return i}var j=k>=0?j[k]:j;d.each(j,function(m,n){i.push('<a id="'+e.id(n.id,2)+'" ');if(typeof(n.css)!="undefined"){i.push('class="'+n.css+'" ')}if(typeof(n.href)=="undefined"){n.href="###"}i.push('href="'+n.href+'" title="'+(typeof(n.title)=="string"?n.title:"")+'"><span class="fl">'+n.txt+"</span>");if(typeof(n.ico)!="undefined"){if(typeof(n.icotitle)=="undefined"){n.icotitle=""}i.push('<span class="'+n.ico+'">'+n.icotitle+"</span>")}if(m==e.val(l)){i.push('<span class="'+f+'"></span>')}i.push("</a>")});return i};e.createHtml=function(l){if(e.parameters[l].ajax){return""}var k=e.parameters[l].data;var j=new Array();if(e.parameters[l].h2 instanceof Array){for(var i=0;i<e.parameters[l].h2.length;i++){j.push("<h2>"+e.parameters[l].h2[i]+"</h2>");j=e.drawlist(l,k,j,i)}}else{if(typeof(e.parameters[l].h2)!="undefined"){j.push("<h2>"+e.parameters[l].h2+"</h2>");j=e.drawlist(l,k,j,-1)}else{j=e.drawlist(l,k,j,-1)}}return j.join("")};e.init=function(){d.each(g,function(k,i){if(typeof(e.parameters[k])!=="undefined"){return}var j=e.parameters[k]={showFlag:false,ajax:false};d.extend(j,e.settings,i);d('<a id="'+e.id(k,1)+'" class="'+j.labelcss+'" href="javascript:;">'+(typeof(j.title)==="undefined"?j.data[e.val(k)].txt:j.title)+h+"</a>").appendTo(d("#"+k));if(j.remote&&typeof(j.title)=="undefined"){d.post(j.remote,[],function(l){l=j.format(l);j.data=l;j.firstrq=false;d("#"+e.id(k,1)).html(l[0].txt+h);j.defaultid=l[0].id},"json")}d('<aside id="'+e.id(k,0)+'" class="'+j.css+'"></aside>').appendTo(d("#"+k));d("#"+e.id(k,0)).hide();e.bindevent(d("#"+k),d("#"+e.id(k,0)),k)})};e.val=function(i){return typeof e.parameters[i]!=="undefined"?e.parameters[i].defaultid:0};e.init()}});d.extend(d.yy,{comboDiv2:function(g){var e=this,h='<span class="arrowDown"></span>';e.selected=function(j){var i=d(this).attr("id");var k=d(this).parent().attr("id");k=e.id(k,0,true);e.parameters[k].defaultid=e.id(i,2,true);d("#group").val(e.id(i,2,true));if(d("span.arrowDown","#"+e.id(k,1)).length>0){d("#"+e.id(k,1)).html(d(this).text()+h)}else{d("#"+e.id(k,1)).html(d(this).text())}d.each(d("#"+e.id(k,0)+" > a"),function(l,m){d(this).find("."+f).remove()});d('<span class="'+f+'" data="'+e.parameters[k].defaultid+'"></span>').appendTo(d(this));d("#"+e.id(k,0)).hide();e.parameters[k].callback(e.parameters[k].defaultid,e.parameters[k]);return false};e.settings={labelcss:"blueLink",defaultid:0,labelover:"cur",css:"tkBox c3a",data:[{id:0,title:"",txt:"",href:"###",css:"",ico:"",icotitle:""}],remote:false,selected:e.selected,firstrq:true,callback:function(){}};var f="icor";e.parameters={};e.id=function(l,j,i){var k=["aside_","label_","combo_list_"];if(i==true){return l.replace(k[j],"")}return k[j]+l};e.display=function(i,j){if(e.parameters[j].ajax){return false}if(d.trim(i.html())==""){d(e.createHtml(j)).appendTo(i)}if(typeof(d("#"+i.attr("id")+" > a").data("events"))=="undefined"){d("#"+i.attr("id")+" > a").bind("click",e.parameters[j].selected)}e.parameters[j].showFlag=true;i.show()};e.hide=function(i,j){setTimeout(function(){if(!e.parameters[j].showFlag){i.hide();e.parameters[j].showFlag=false}},100)};e.bindevent=function(j,i,k){j.on({mouseover:function(m){var l=e.parameters[k];if(l!=="undefined"){d("#"+e.id(k,1)).addClass(l.labelover);if(l.remote){if(l.firstrq){l.ajax=true;l.firstrq=false;d.post(l.remote,[],function(n){l.ajax=false;l.data=n;e.display(i,k);return false},"json")}else{if(!l.ajax){e.display(i,k)}}}else{e.display(i,k)}}},mouseout:function(m){var l=e.parameters[k];if(l!=="undefined"){d("#"+e.id(k,1)).removeClass(l.labelover);l.showFlag=false;e.hide(i,k)}}});i.on({mouseout:function(m){var l=e.parameters[k];if(l!=="undefined"){d("#"+e.id(k,1)).removeClass(l.labelover);l.showFlag=false;e.hide(i,k)}}})};e.drawlist=function(l,j,i,k){if(e.parameters[l].ajax){return i}var j=k>=0?j[k]:j;d.each(j,function(m,n){i.push('<a id="'+e.id(n.id,2)+'" ');if(m==e.val(l)){n.css=(typeof(n.css)!="undefined")?n.css+" cur":"cur"}if(typeof(n.css)!="undefined"){i.push('class="'+n.css+'" ')}if(typeof(n.href)=="undefined"){n.href="###"}i.push('href="'+n.href+'" title="'+(typeof(n.title)=="string"?n.title:"")+'">'+n.txt);if(typeof(n.ico)!="undefined"){if(typeof(n.icotitle)=="undefined"){n.icotitle=""}i.push('<span class="'+n.ico+'">'+n.icotitle+"</span>")}if(m==e.val(l)){i.push('<span class="'+f+'"></span>')}i.push("</a>")});return i};e.createHtml=function(l){if(e.parameters[l].ajax){return""}var k=e.parameters[l].data;var j=new Array();if(e.parameters[l].h2 instanceof Array){for(var i=0;i<e.parameters[l].h2.length;i++){j.push("<h2>"+e.parameters[l].h2[i]+"</h2>");j=e.drawlist(l,k,j,i)}}else{if(typeof(e.parameters[l].h2)!="undefined"){j.push("<h2>"+e.parameters[l].h2+"</h2>");j=e.drawlist(l,k,j,-1)}else{j=e.drawlist(l,k,j,-1)}}return j.join("")};e.init=function(){d.each(g,function(k,i){if(typeof(e.parameters[k])!=="undefined"){return}var j=e.parameters[k]={showFlag:false,ajax:false};d.extend(j,e.settings,i);d('<a id="'+e.id(k,1)+'" class="'+j.labelcss+'" href="javascript:;">'+(typeof(j.title)==="undefined"?j.data[e.val(k)].txt:j.title)+h+"</a>").appendTo(d("#"+k));if(j.remote&&typeof(j.title)=="undefined"){d.post(j.remote,[],function(l){l=j.format(l);j.data=l;j.firstrq=false;d("#"+e.id(k,1)).html(l[0].txt+h);j.defaultid=l[0].id},"json")}d('<aside id="'+e.id(k,0)+'" class="'+j.css+'"></aside>').appendTo(d("#"+k));d("#"+e.id(k,0)).hide();e.bindevent(d("#"+k),d("#"+e.id(k,0)),k)})};e.val=function(i){return typeof e.parameters[i]!=="undefined"?e.parameters[i].defaultid:0};e.init()}});d.extend(d.yy,{followCommon:function(g){var f=this;var e={setsId:"body",confirm:{txt:"",css:"gzChengButton"},cancel:{txt:"",css:"gzGrayButton"},callback:function(h,i,j){},reload:true,followSelector:".yy-follow-common",batch:false,batchClass:"yy-follow-batch",checkBoxSelector:'input[name="member_id"]:checked'};d.extend(e,g);d(e.setsId).find(e.followSelector).live("click",function(){var i=d(this),h=0,j={status:h,type:i.attr("role"),id:i.attr("for")};if(i.hasClass(e.confirm.css)){j.status=1}if(e.batch&&i.hasClass(e.batchSelector)){j.id=[];d(e.checkBoxSelector).each(function(){j.id.push(d(this).val())});if(j.id.length==0){d.yy.rscallback("");return false}}d.post(yyBaseurl+"/space/ajax/follow",j,function(k){if(!k.rs){alert(k.error);return}i.toggleClass(e.confirm.css);i.toggleClass(e.cancel.css);var l="";if(j.status==0){l="";i.html(e.confirm.txt);d.yy.rscallback(l)}else{i.html(e.cancel.txt);d.yy.rscallback(l)}e.callback(h,k,i)},"json");return false})},follow:function(g){var f=this;var e={setsId:"body",confirm:{txt:"",css:"gzChengButton"},cancel:{txt:"",css:"gzGrayButton"},callback:function(h,i,j){},reload:true,followSelector:".yy-follow"};d.extend(e,g);d(e.setsId).find(e.followSelector).live("click",function(){var i=d(this);var l=i.attr("ele_role");var h=0;if(i.hasClass(e.confirm.css)){h=1}if(l=="file"){if(i.hasClass("confirm")){h=1}}if(typeof(d(this).attr("for"))!="undefined"){var j="/status/"+h+"/id/"+d(this).attr("for")+"/type/"+d(this).attr("role")}else{var k=[];d('input[name="member_id"]:checked').each(function(){k.push(d(this).val())});if(k.length==0){alert("");return false}var j="/status/"+h+"/id/"+k+"/type/"+d(this).attr("role")}d.post(yyBaseurl+"/space/ajax/follow"+j,"",function(o){if(!o.rs){alert(o.error);return}i.toggleClass(e.confirm.css);i.toggleClass(e.cancel.css);var p="";var n=i.attr("type");if(h==0){p="";i.html(e.confirm.txt);i.parent().parent().find(".cyName").find("input").removeAttr("disabled").attr({value:i.attr("for"),name:"member_id",id:"member_id"});if(i.parent().attr("class")=="doBt pl13"){a=i.parent().find("a");i.parent().parent().html("").append(a);i.removeClass("gzGrayButton")}d.yy.rscallback(p);if(e.reload){location.reload()}}else{i.html(e.cancel.txt);if(l=="file"){}else{i.prev("input[type='checkbox']").hide();i.closest("li").find("input[type='checkbox']").attr("disabled","disabled");var m=yyBaseurl+"/followed/group/list/fid/"+i.attr("for");d.fancybox({href:m,margin:0,padding:0,autoScale:true,titleShow:false,showCloseButton:false,centerOnScroll:true,overlayOpacity:0.9,hideOnOverlayClick:true})}}e.callback(h,o,i)},"json");if(h==0){b.ajaxApi(b.url("/followed/group/ajaxcancel/"),function(n,m){if(n){}},"POST","json",{id:d(this).attr("for")})}return false})}});d.extend(d.yy,{mygroup:function(f,e){if(typeof(d.yy.groupData)=="undefined"){d.post(yyBaseurl+"/api/info/mygroup/substr/"+e,{},function(g){f(g)},"json")}else{f(d.yy.groupData)}}});d.fn.yyautoWrap=function(f){var i=d(this),k=i.css("line-height"),h=i.css("font-size"),e=d('<div id="'+(new Date().getTime())+'" style="display:none;font-size:'+h+";line-height:"+k+';"></div>'),g=i.height(),l="";i.css("overflow","hidden");e.css("width",i.css("width")).appendTo("body");i.on({keydown:j,keyup:j,change:j});function j(q){var o=i.val(),r=o.substring(0,f);if(o!==r||l!==r){var p=r.replace(/[<]/g,"&lt;").replace(/[>]/g,"&gt;").replace(/\n|\r|(\r\n)/g,"<br />");l=r;e.html(p);var n=parseInt(e.css("height"))+14,m=n<g?g:n;o===r?i.css("height",m+"px"):i.val(r).css("height",m+"px")}}};d.extend(d.yy,{checkAll:function(e){e.checkAllObj.live("click",function(){var f=d(this).attr("checked")=="checked"?true:false;if(f){e.checkboxObj.attr("checked","checked")}else{e.checkboxObj.removeAttr("checked");if(typeof(e.callback)!="undefined"){e.callback()}}})}});d(function(){d("#rscallback").bind("click",function(){d("#rscallback").hide();return false});d("input").blur(function(){var f=d(this);var e=f.attr("default");if(e==""){return}if(f.val()==""){f.val(e)}});d("input").focus(function(){var f=d(this);var e=f.attr("default");if(e==""){return}if(f.val()==e){f.val("")}})})})(jQuery,YY.util||{});
function onUploadImgChange(f,a){var d=f.value;var n=d.substring(d.lastIndexOf(".")).toLowerCase();if(!checkFileExt(n)){alert("");return}if(typeof(a)=="undefined"){a="preview"}var g=document.getElementById(a),l=document.getElementById(a+"_fake"),i=document.getElementById(a+"_size_fake");try{if(typeof FileReader!=="undefined"){var b=f.files[0];var c=b.fileSize||b.size;if(checkFileSize(c)){var j=new FileReader();j.readAsDataURL(b);j.onload=function(o){g.src=this.result}}}else{if(f.files){var b=f.files[0];c=b.fileSize;if(checkFileSize(c)){d=b.getAsDataURL();g.src=d;alert(d)}}else{if(l.filters){f.select();var m=document.selection.createRange().text;l.style.filter="progid:DXImageTransform.Microsoft.AlphaImageLoader(sizingMethod=scale)";l.filters.item("DXImageTransform.Microsoft.AlphaImageLoader").src=m;i.style.filter="progid:DXImageTransform.Microsoft.AlphaImageLoader(sizingMethod=scale)";i.filters.item("DXImageTransform.Microsoft.AlphaImageLoader").src=m;g.style.display="none";var h=setInterval(function(){var e=document.createElement("img");e.src=m;c=e.fileSize;if(c>0){checkFileSize(c);clearInterval(h)}e=null},100)}}}}catch(k){}}function checkFileSize(a){if(a>1024*1024*10){alert("10M,");return false}return true}function checkFileExt(a){if(!a.match(/.jpg|.jpeg|.gif|.png/i)){return false}return true}function autoSizePreview(a,d,b){var c=clacImgZoomParam(300,300,d,b)}function clacImgZoomParam(d,c,b,a){var e={width:b,height:a,top:0,left:0};if(b>d||a>c){rateWidth=b/d;rateHeight=a/c;if(rateWidth>rateHeight){e.width=d;e.height=a/rateWidth}else{e.width=b/rateHeight;e.height=c}}e.left=(d-e.width)/2;e.top=(c-e.height)/2;return e}function onPreviewLoad(a){autoSizePreview(a,a.offsetWidth,a.offsetHeight)}Date.prototype.format=function(f){var d=this.getFullYear(),e=this.getMonth()+1,b=this.getDate(),a=this.getHours(),g=this.getMinutes(),c=this.getSeconds();f=f||"yyyy-MM-dd hh:mm:ss";var h=function(i){if(i.toString().length>1){return i.toString()}else{return"0"+i.toString()}};return f.replace(/yyyy/,d).replace(/yy/,d.toString().substr(2,2)).replace(/MM/,h(e)).replace(/M/,e).replace(/dd/,h(b)).replace(/d/,b).replace(/hh/,h(a)).replace(/h/,a).replace(/mm/,h(g)).replace(/m/,g).replace(/ss/,h(c)).replace(/s/,c)};
var sessionAdapter={interval:300000,init:function(){var a=new Date();var b=a.getTime();var c=YY.util.getCookie("updateOnlineTime")||0;if(Math.abs((c-b))>=300000){this.func()}return this},run:function(a){var a=a||this.interval;setInterval(this.func,a)},func:function(){YY.util.ajaxApi(YY.util.url("/api/info/upsession"),function(c,b){var a=new Date();YY.util.addCookie("updateOnlineTime",a.getTime(),0)},"POST","json")}};$(document).ready(function(){if($(".footer").attr("for")!=1){sessionAdapter.init().run()}});
$(document).ready(function(){$gui=$("#guide");if($gui!==null){if($("#loginStatus").val()=="1"){$gui.hide()}else{$gui.hide()}}$("#closeGuide").live("click",function(){YY.util.ajaxApi(yyBaseurl+"/space/home/updatelogin/",function(e){if(e.rs){$gui.hide()}},"GET","json")});var a=true;if(typeof(getCookie)=="function"){var c=getCookie("simplePwd");if(c=="1"){a=false}}var b=$("#pwdNotice");if(b.val()==1&&a){b.parent().show()}else{b.parent().hide()}$(".yy-pwd-notice").live("click",function(){addCookie("simplePwd",1,1,"/");$(this).parent().hide()})});
$(function(){var b=YY.util;b.imgLoadError();$.yy.follow();if(rscallback!=""){$.yy.rscallback(rscallback,rscallbackflag)}$("#allselected").live("click",function(){var i=$("#isallselected").val();var i=$("#allselected").attr("checked");if(i=="checked"){$("[name='member_id']").attr("checked","true")}else{$("[name='member_id']").removeAttr("checked")}});$(".yy-uploaded-file-info").live({click:function(){var i=$(this),j=i.closest(".yy-uploaded-file-item");j.siblings(".yy-uploaded-file-item").find(".mt10").hide().end().find(".ico_xSJ").removeClass("ico_sSJ");i.parent("div").next("div").toggle();i.children("i").toggleClass("ico_sSJ")}});var f=b.isIE6(),h=$(".cirNavbg"),a=h.height(),g=$(document);h.css({"z-index":99999});var e=$('<div style="display:none;height:'+a+'px;"></div>');h.before(e);c();$(window).scroll(c);function c(){var j=g.scrollTop(),i=h;if(j<48){i.css({position:"static"});e.hide()}else{if(f){i.css({position:"absolute",top:j,left:0})}else{i.css({position:"fixed",top:0,left:0})}e.show()}}function d(){YY.util.ajaxApi(yyBaseurl+"/api/notice/getNoticeNums",function(i){$("#bar_msg_div").html(i)},"POST","html")}d();setTimeout(function(){d()},30000);$("#creategrouptitle").live("click",function(){$("#creategroup").css("display","block");$(this).parent().css("display","none")});$("#cancelcreatebtn").live("click",function(){$("#creategrouptitle").parent().css("display","block");$(this).parent().css("display","none")});$("#creategroupbtn").live("click",function(){var i=$("#groupname").val();$.get(yyBaseurl+"/followed/group/add/ajaxsub/1/dosubmit/1/group/"+encodeURIComponent(i),function(j){if(j){if(j.rs==1){if($(".check_follow_group").parent().text()==j.data.name){$(".check_follow_group").val(j.data.id)}else{$("#creategroupbtn").parent().parent().find("ul").append('<li><input name="groupid[]" type="checkbox" value="'+j.data.id+'">'+j.data.name+"</li>");$("#groupname").val("")}}else{alert(j.msg)}}},"JSON")})});function sayhello(a){$(".mp_div").hide();var b=$(this);$.fancybox({modal:false,width:3,height:2,transitionIn:"elastic",transitionOut:"elastic",speedIn:200,speedOut:200,scrolling:"no",showCloseButton:false,href:yyBaseurl+"/call/index/send/to/"+a});return false};
