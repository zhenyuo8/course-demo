function FunToggle(d,c,e,b,a){if(b=="undefined"||b==null){var b=yyBaseurl+"/setting/dept/ajaxget/type/space"}if(a=="undefined"||a==null){var a=""}if(c==1){$.ajax({type:"POST",url:b,data:"pid="+d.attr("id"),success:function(f){var h="";var g=f.data.length;$(f.data).each(function(j,k){h+='<div><div class="item"><table cellspacing="0" cellpadding="0" border="0"><tr><td><nobr class="regard">';$($(d).parent().children("img[class^='line']")).each(function(n,m){h+='<img src="'+YY.util.url("/images/setting/blank.gif")+'" class="'+m.className+'">'});if(d.parents(".item").parent().next().html()){h+='<img src="'+YY.util.url("/images/setting/blank.gif")+'" class="line4">'}else{h+='<img src="'+YY.util.url("/images/setting/blank.gif")+'" class="line5">'}if(k.havesub==1){var l="plus1";if(j==g-1){l="plus2"}h+='<img src="'+YY.util.url("/images/setting/blank.gif")+'" class="'+l+'" id="'+k.id+'">'}else{var l="line1";if(j==g-1){l="line2"}h+='<img src="'+YY.util.url("/images/setting/blank.gif")+'" class="'+l+'">'}h+='<div class="treeHovera '+a+'" dept_id="'+k.id+'">';if(e==1){h+='<a id="tree_'+k.id+'" href="javascript:;" class="linkfocus blueLink" title="'+k.name+'" data="'+k.id+'">'+k.name+"</a>"}else{if(e==2){h+='<a id="tree_'+k.id+'" href="javascript:confimDept('+k.id+",'"+k.name+'\');" title="'+k.name+'" class="linkfocus blueLink" data="'+k.id+'">'+k.name+"</a>"}else{if(k.haveSpace==1){h+='<input type="checkbox" name="space[]" checked="checked" disabled="true" value="'+k.id+'" >'}else{h+='<input type="checkbox" name="space[]" value="'+k.id+'" >'}if(k.type==0){h+='<a href="javascript:;" class="ico02_new linkfocus blueLink" title="'+k.fullname+'" data="'+k.id+'">'+k.name+"</a>"}else{if(k.type==1){h+='<a href="javascript:;" class="ico01_new linkfocus blueLink" title="'+k.fullname+'" data="'+k.id+'">'+k.sub_name+"</a>"}}h+='<a href="'+yyBaseurl+"/setting/dept/add/id/"+k.id+'" class="edit_edit" data="'+k.id+'" title="修改"></a><a href="javascript:;" class="edit_del" title="删除"></a>'}}h+="</div>";h+='</nobr></td></tr></table></div><div style="display:none;"></div></div>';d.parents("div.item").next().html("").append(h)});FunOK(d)},dataType:"json"})}else{FunOK(d)}}function FunOK(b){var a=b.attr("class");switch(a){case"plus1":b.attr("class","minus1");break;case"plus2":b.attr("class","minus2");break;case"plus3":b.attr("class","minus3");break;case"minus1":b.attr("class","plus1");break;case"minus2":b.attr("class","plus2");break;case"minus3":b.attr("class","plus3");break}$("a[class^='edit_']").hide();b.parents("div.item").next().toggle()}function FunGetMemeber(b,a){var c=b.attr("data");$(".treeListCont").remove();if(a=="undefined"||a==null){var a=yyBaseurl+"/setting/dept/ajaxmember"}$.ajax({type:"get",url:a,data:"id="+c,success:function(d){$(".treeList").append(d);$("#dept_id").val(c)}})}function FunGetSubMemeber(b,a){var c=b.attr("data");if(a=="undefined"||a==null){var a=yyBaseurl+"/setting/dept/ajaxmember"}$.ajax({type:"get",url:a,data:"id="+c,success:function(e){b.parent().parent().append(e);$("#search").attr("data",c);var d=b.prevAll("span.ml10").length;for(i=0;i<d;i++){b.parent().nextAll("section").find("h2").before('<span class="ml10"></span>')}b.parent().nextAll("section").find("h2").before('<span class="ml10"></span>')}})}function checkedRootBox(a,d){var e=(typeof a==="object")?a:$(a),c=e.filter(":checked"),b=true;c.length>=parseInt(d)?(e.not(c).attr("disabled","disabled"),b=false):(e.removeAttr("disabled"),b=true);return b};