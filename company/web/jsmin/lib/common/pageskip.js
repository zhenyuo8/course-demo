$.Class("lib.common.pageSkip",{init:function(a){this.type="common.pageSkip";this.pageNum=a.pageNum;this.pageSize=a.pageSize;this.total=a.total;this.url=a.url;this.template=a.template;this.callback=a.callback;this.eleId=this.getId()},setTotal:function(a){this.total=a},next:function(){if(this.pageNum>this.total-1){return}this.pageNum=this.pageNum+1},prev:function(){if(this.pageNum<1){return}this.pageNum=this.pageNum-1},load:function(a){var b=this;YY.util.ajaxApi(this.url,function(c){if(!c){return}a(c,b)},"POST","json","pageSize="+this.pageSize+"&pageNum="+this.pageNum)},getId:function(){return"ps_"+$.getId()},template:function(){},render:function(b){var d=$(this.template).html(),a=this.eleId,e="next"+a,f="prev"+a,c="list"+a,g="one"+a;if(!d){return}d=d.format({nextId:e,prevId:f,listId:c,oneId:g});b(d);this.bind()},bind:function(){var a=this.eleId,c=this,b=this.callback;$("#next"+a).click(function(){c.next();c.load(b);c.viewState()});$("#prev"+a).click(function(){c.prev();c.load(b);c.viewState()})},viewState:function(){if(this.pageNum>=this.total){$("#next"+this.eleId).hide()}if(this.pageNum<=1){$("#prev"+this.eleId).hide()}if(this.pageNum>=this.total&&this.pageNum<=1){$("#next"+this.eleId).hide();$("#prev"+this.eleId).hide()}if(this.pageNum>=this.total&&this.pageNum>1){$("#next"+this.eleId).hide();$("#prev"+this.eleId).show()}if(this.pageNum<this.total&&this.pageNum<=1){$("#next"+this.eleId).show();$("#prev"+this.eleId).hide()}if(this.pageNum<this.total&&this.pageNum>1){$("#next"+this.eleId).show();$("#prev"+this.eleId).show()}},renderList:function(a){$("#list"+this.eleId).html(a)},hide:function(){$("#one"+this.eleId).hide()},show:function(){$("#one"+this.eleId).show()},first:function(c){var b=this,a=function(d){if(d.data.totalPage==0){return}b.show();b.setTotal(d.data.totalPage);b.callback(d,b);b.viewState()};this.pageNum=c||1;this.load(a)}});