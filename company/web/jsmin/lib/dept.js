function FunToggle(f,c,h,b,a,e){if(b=="undefined"||b==null){var b=yyBaseurl+"/setting/dept/ajaxget"}if(a=="undefined"||a==null){var a=""}if(e=="undefined"||e==null){var e=""}if(c==1){$.ajax({type:"POST",url:b,data:"pid="+f.attr("id"),async:false,success:function(j){var l="";var k=j.data.length;$(j.data).each(function(m,n){l+='<div><div class="item"><table cellspacing="0" cellpadding="0" border="0"><tr><td><nobr class="regard">';$($(f).parent().children("img[class^='line']")).each(function(r,q){l+='<img src="'+YY.util.url("/images/setting/blank.gif")+'" class="'+q.className+'">'});if(f.parents(".item").parent().next().html()){l+='<img src="'+YY.util.url("/images/setting/blank.gif")+'" class="line4">'}else{l+='<img src="'+YY.util.url("/images/setting/blank.gif")+'" class="line5">'}if(n.havesub==1){var p="plus1";if(m==k-1){p="plus2"}l+='<img src="'+YY.util.url("/images/setting/blank.gif")+'" class="'+p+'" id="'+n.id+'">'}else{var p="line1";if(m==k-1){p="line2"}l+='<img src="'+YY.util.url("/images/setting/blank.gif")+'" class="'+p+'">'}l+='<div class="treeHovera '+a+" "+e+'" dept_id="'+n.id+'">';if(h==1){var o="";if(n.type==0){o="linkfocus blueLink ico02_new";l+='<a id="tree_'+n.id+'" href="javascript:;" class="'+o+'" title="'+n.fullname+'" data="'+n.id+'">'+n.name+"</a>"}else{if(n.type==1){o="linkfocus blueLink ico01_new";l+='<a id="tree_'+n.id+'" href="javascript:;" class="'+o+'" title="'+n.fullname+'" data="'+n.id+'">'+n.name+"</a>"}}}else{if(h==2){if(n.type==0){l+='<a id="tree_'+n.id+'" href="javascript:confimDept('+n.id+",'"+n.fullname+'\');" title="'+n.fullname+'" class="linkfocus blueLink" data="'+n.id+'">'+n.name+"</a>"}else{if(n.type==1){l+='<a id="tree_'+n.id+'" href="javascript:confimDept('+n.id+",'"+n.fullname+'\');" title="'+n.fullname+'" class="linkfocus blueLink" data="'+n.id+'">'+n.sub_name+"</a>"}}}else{if(n.type==0){l+='<a href="javascript:;" class="ico02_new linkfocus blueLink" title="'+n.fullname+'" data="'+n.id+'">'+n.name+"</a>"}else{if(n.type==1){l+='<a href="javascript:;" class="ico01_new linkfocus blueLink" title="'+n.fullname+'" data="'+n.id+'">'+n.sub_name+"</a>"}}l+='<a href="'+yyBaseurl+"/setting/dept/edit/id/"+n.id+'" class="edit_edit" data="'+n.id+'" title="修改"></a><a href="javascript:;" class="edit_del" title="删除"></a>'}}l+="</div>";l+='</nobr></td></tr></table></div><div style="display:none;"></div></div>';f.parents("div.item").next().html("").append(l)});FunOK(f)},dataType:"json"})}else{FunOK(f)}var g=f,d=$(".treeIn");tree_left=d.offset().left,obj_left=g.offset().left,pos=tree_left+10;if(obj_left!=pos){d.scrollLeft(obj_left-pos)}}function FunOK(b){var a=b.attr("class");switch(a){case"plus1":b.attr("class","minus1");break;case"plus2":b.attr("class","minus2");break;case"plus3":b.attr("class","minus3");break;case"minus1":b.attr("class","plus1");break;case"minus2":b.attr("class","plus2");break;case"minus3":b.attr("class","plus3");break}$("a[class^='edit_']").hide();$("div.treeHovera").mouseover(function(){$(this).addClass("blueBg treeHoverLink");$(this).children("a[class^='edit_']").show()}).mouseout(function(){$(this).removeClass("blueBg treeHoverLink");$(this).children("a[class^='edit_']").hide()});b.parents("div.item").next().toggle()}function FunGetMemeber(b,a){var c=b.attr("data");$(".cypList").html("");if(a=="undefined"||a==null){var a=yyBaseurl+"/setting/dept/ajaxmember"}$.ajax({type:"get",url:a,data:"id="+c,async:false,success:function(d){$(".treeListIn").html(d);$(".cypList").html(d);$("#dept_id").val(c)}})}function FunGetSubMemeber(b,a){var c=b.attr("data");if(a=="undefined"||a==null){var a=yyBaseurl+"/setting/dept/ajaxmember"}$.ajax({type:"get",url:a,data:"id="+c,success:function(e){b.parent().parent().append(e);var d=b.prevAll("span.ml10").length;for(i=0;i<d;i++){b.parent().nextAll("section").find("h2").before('<span class="ml10"></span>')}b.parent().nextAll("section").find("h2").before('<span class="ml10"></span>')}})};